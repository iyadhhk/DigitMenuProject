{"version":3,"sources":["utils/setAuthToken.js","Components/PrivateRoute/PrivateRoute.js","Components/PrivateRoute/ClientRoute.js","features/authSlice.js","features/contactSlice.js","Components/ContactUs/ContactUs.js","features/adherentSlice.js","pages/Home/Home.js","utils/scroll.js","Components/Navbar/Navbar.js","pages/SignIn/SignIn.js","Components/ScanCode/ScanCode.js","features/adminSlice.js","Components/AddOwner/AddOwner.js","Components/OwnerList/OwnerList.js","pages/AdminSection/AdminSection.js","features/ownerSlice.js","utils/image.js","Components/AddRestaurant/AddRestaurant.js","Components/RestaurantListItem/RestaurantListIem.js","Components/RestaurantList/RestaurantList.js","features/menuSlice.js","Components/AddMenu/AddMenu.js","features/tableSlice.js","Components/AddTable/AddTable.js","Components/Tables/Tables.js","Components/TableList/TableList.js","features/staffSlice.js","Components/AddWorker/AddWorker.js","Components/Workers/Workers.js","Components/StaffList/StaffList.js","features/orderSlice.js","Components/OrderList/OrderList.js","Components/ItemsMenu/ItemsMenu.js","pages/Menu/Menu.js","pages/MyRestaurant/MyRestaurant.js","pages/OwnerSection/OwnerSection.js","pages/WorkerSection/WorkerSection.js","Components/ClientMenuItem/ClientMenuItem.js","Components/ClientMenu/ClientMenu.js","pages/MyOrder/MyOrder.js","pages/ClientPage/ClientPage.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","PrivateRoute","children","rest","path","useSelector","state","auth","isAuthenticated","authStatus","localStorage","render","authUser","to","isClient","authClient","createAsyncThunk","data","a","rejectWithValue","restId","tableNumber","history","console","log","post","response","setItem","push","login","role","authSlice","createSlice","name","initialState","getItem","authErrors","user","reducers","clearClient","logout","removeItem","initState","extraReducers","pending","action","fulfilled","payload","rejected","actions","contactUs","contactSlice","contactStatus","errors","ContactUs","useState","username","email","message","values","setValues","handleChange","e","target","value","dispatch","useDispatch","contact","useEffect","className","filter","err","param","msg","type","placeholder","onChange","rows","cols","onClick","preventDefault","getRestInfo","get","transformRequest","Authorization","adherentSlice","adherentStatus","adherents","Home","adherent","src","alt","id","Provider","length","map","adher","logo","_id","ScrollComponent","props","activeClass","section","spy","smooth","offset","duration","Navbar","click","setClick","closeMobileMenu","location","useLocation","isAuth","handleLog","adminMenu","ownerMenu","homeMenu","pathname","clientMenu","workerMenu","navMenu","SignIn","password","useHistory","ScanCode","delay","result","code","split","style","height","width","onError","error","onScan","createOwner","getAllOwners","deleteOwner","put","adminSlice","owner","owners","adminStatus","create","delete","getAll","adminErrors","initErrors","AddOwner","admin","OwnerList","socketURL","window","hostname","AdminSection","socket","openSocket","transports","secure","on","createRestaurant","formData","forEach","key","deleteRestaurant","editRestaurant","getRestList","ownerSlice","restList","ownerStatus","edit","getList","ownerErrors","generateBase64FromImage","imageFile","reader","FileReader","promise","Promise","resolve","reject","onload","onerror","readAsDataURL","AddRestaurant","address","preview","file","files","then","b64","catch","FormData","append","RestaurantListIem","image","handleData","handleEdit","restName","RestaurantList","restaurants","getMenuByRest","res","deleteItemMenu","editItemMenu","addToMenu","menuSlice","menu","menuErrors","getMenu","menuStatus","AddMenu","ref","React","useRef","price","description","categorie","emit","disconnect","current","addTable","getTables","deleteTable","tableSlice","tableStatus","tableErrors","table","listTable","AddTable","tableCode","min","restaurant","Tables","tables","componentRef","handlePrint","useReactToPrint","content","pageStyle","codeImg","TableList","channel","createWorker","getAllWorkers","deleteWorker","staffSlice","worker","workers","workerStatus","workerErrors","AddWorker","selectedOption","setSelectedOption","staff","onChangeRadio","checked","restaurantId","Workers","list","StaffList","createOrder","updateOrder","getOrderById","getAllOrders","checkoutOrder","orderId","cancelOrder","confirmCancelOrder","refuseCancelOrder","editPreOrder","confirmEditPreOrder","orderSlice","preOrder","order","orderStatus","getOne","checkout","cancel","confirmCancel","refuseCancel","orderErrors","orders","addToOrder","createdAt","itemIndex","findIndex","item","newList","quantity","Number","removeFromOrder","splice","addComment","comment","deletePreOrder","moment","locale","OrderList","paid","setPaid","today","format","filterByDate","filterDate","setFilterDate","handleFilter","filterBy","isSame","isBefore","slice","reverse","items","fromNow","total","ItemsMenu","idMenu","Menu","MyRestaurant","OwnerSection","setChannel","exact","WorkerSection","setFilterBy","handleClick","requestsInfo","confirmed","el","itemId","requestedAction","newQuantity","tab","i","defaultValue","ClientMenuItem","showInput","setShowInput","food","setFood","orderItem","handleShow","itemPrice","disabled","ClientMenu","numberOfItems","totalCost","reduce","acc","curv","totalNumber","orderLink","menuItems","handleChoice","choice","color","handleButton","MyOrder","editStatus","toEdit","unitPrice","editOrder","oldQuantity","editFields","setEditFields","requestResult","handleAdd","handleRemove","itemToEdit","newValues","newPrice","newComment","ClientPage","App","ClientRoute","configureStore","reducer","authReducer","adminReducer","ownerReducer","menuReducer","tableReducer","orderReducer","staffReducer","contactReducer","adherentReducer","Boolean","match","ReactDOM","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3f4a3941.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\nexport default setAuthToken;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nconst PrivateRoute = ({ children, path, ...rest }) => {\r\n  const { isAuthenticated, authStatus } = useSelector((state) => state.auth);\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        !isAuthenticated && authStatus.authUser !== \"loading\" ? (\r\n          <Redirect to=\"/signin\" />\r\n        ) : (\r\n          children\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nconst PrivateRoute = ({ children, path, ...rest }) => {\r\n  const { isClient, authStatus } = useSelector((state) => state.auth);\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        !isClient && authStatus.authClient !== \"loading\" ? (\r\n          <Redirect to=\"/\" />\r\n        ) : (\r\n          children\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const authClient = createAsyncThunk(\r\n  'auth/auth-client',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const { restId, tableNumber, history } = data;\r\n      console.log('restid', restId);\r\n      console.log('restid', tableNumber);\r\n      console.log('history', history);\r\n      const response = await axios.post('/auth/auth-client', {\r\n        restId,\r\n        tableNumber,\r\n      });\r\n      localStorage.setItem('restId', restId);\r\n      localStorage.setItem('tableNumber', tableNumber);\r\n      history.push('/client-page');\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const login = createAsyncThunk('auth/login', async (data, { rejectWithValue }) => {\r\n  try {\r\n    const response = await axios.post('/auth/login', data);\r\n    if (response.data.role === 'admin') {\r\n      data.history.push('/admin-section');\r\n    } else if (response.data.role === 'owner') {\r\n      data.history.push('/owner-section');\r\n    } else if (response.data.role === 'kitchen' || response.data.role === 'server') {\r\n      data.history.push('/worker-section');\r\n    } else {\r\n      data.history.push('/');\r\n    }\r\n    return response.data;\r\n  } catch (err) {\r\n    return rejectWithValue(err.response.data);\r\n  }\r\n});\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    token: localStorage.getItem('token'),\r\n    isAuthenticated: false,\r\n    isClient: false,\r\n    authStatus: { authClient: 'idle', authUser: 'idle' },\r\n    authErrors: { authClient: null, authUser: null },\r\n    user: null,\r\n  },\r\n  reducers: {\r\n    clearClient(state) {\r\n      return { ...state, isClient: false };\r\n    },\r\n    logout(state) {\r\n      localStorage.removeItem('token');\r\n      return { ...state, token: null, isAuthenticated: false, user: null };\r\n    },\r\n    initState(state) {\r\n      localStorage.removeItem('token');\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        isClient: false,\r\n        authStatus: { authClient: 'idle', authUser: 'idle' },\r\n        authErrors: { authClient: null, authUser: null },\r\n        user: null,\r\n      };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [login.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authUser: 'loading' },\r\n      };\r\n    },\r\n    [login.fulfilled]: (state, action) => {\r\n      localStorage.setItem('token', action.payload.token);\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authUser: 'succeded' },\r\n        authErrors: { ...state.authErrors, authUser: null },\r\n\r\n        isAuthenticated: true,\r\n        user: action.payload,\r\n      };\r\n    },\r\n    [login.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authUser: 'failed' },\r\n        authErrors: { ...state.authErrors, authUser: action.payload },\r\n      };\r\n    },\r\n    [authClient.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authClient: 'loading' },\r\n      };\r\n    },\r\n    [authClient.fulfilled]: (state, action) => {\r\n      localStorage.setItem('token', action.payload.token);\r\n      return {\r\n        ...state,\r\n\r\n        authStatus: { ...state.authStatus, authClient: 'succeded' },\r\n        authErrors: { ...state.authErrors, authClient: action.payload },\r\n        isClient: true,\r\n      };\r\n    },\r\n    [authClient.rejected]: (state, action) => ({\r\n      ...state,\r\n      authStatus: { ...state.authStatus, authClient: 'failed' },\r\n      authErrors: { ...state.authErrors, authClient: action.payload },\r\n    }),\r\n  },\r\n});\r\n\r\nexport const { logout, initState, clearClient } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const contactUs = createAsyncThunk(\r\n  \"contact/sendEmail\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\"/contact/sendEmail\", data);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const contactSlice = createSlice({\r\n  name: \"contact\",\r\n  initialState: {\r\n    contactStatus: \"idle\",\r\n\r\n    errors: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [contactUs.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        contactStatus: \"loading\",\r\n      };\r\n    },\r\n    [contactUs.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        contactStatus: \"succeded\",\r\n        errors: null,\r\n      };\r\n    },\r\n    [contactUs.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        contactStatus: \"failed\",\r\n        errors: action.payload,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default contactSlice.reducer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { contactUs } from \"../../features/contactSlice\";\r\nimport \"./ContactUs.css\";\r\n\r\nconst ContactUs = () => {\r\n  const [values, setValues] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    message: \"\",\r\n  });\r\n  const { username, email, message } = values;\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const dispatch = useDispatch();\r\n  const { contactStatus, errors } = useSelector((state) => state.contact);\r\n  useEffect(() => {\r\n    if (contactStatus === \"succeded\")\r\n      setValues({ username: \"\", email: \"\", message: \"\" });\r\n  }, [contactStatus]);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(contactUs({ username, email, message }));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"contact__Form\">\r\n        <span>\r\n          {contactStatus === \"failed\" &&\r\n            errors.data.filter((err) => err.param === \"username\")[0] &&\r\n            errors.data.filter((err) => err.param === \"username\")[0].msg}\r\n        </span>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={username}\r\n          placeholder=\" nom\"\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <span>\r\n          {contactStatus === \"failed\" &&\r\n            errors.data.filter((err) => err.param === \"email\")[0] &&\r\n            errors.data.filter((err) => err.param === \"email\")[0].msg}\r\n        </span>\r\n\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={email}\r\n          placeholder=\" email\"\r\n          onChange={handleChange}\r\n        />\r\n        <span>\r\n          {contactStatus === \"failed\" &&\r\n            errors.data.filter((err) => err.param === \"message\")[0] &&\r\n            errors.data.filter((err) => err.param === \"message\")[0].msg}\r\n        </span>\r\n        <textarea\r\n          rows=\"8\"\r\n          cols=\"20\"\r\n          value={message}\r\n          placeholder=\"message\"\r\n          name=\"message\"\r\n          onChange={handleChange}\r\n        ></textarea>\r\n\r\n        <h5\r\n          className={\r\n            contactStatus === \"succeded\" ? \"msg__sented\" : \"msg__sented__hidden\"\r\n          }\r\n        >\r\n          votre message a t envoy avec succes{\" \"}\r\n        </h5>\r\n        <button className=\"Butt__send\" type=\"submit\" onClick={handleSubmit}>\r\n          envoyer\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactUs;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nexport const getRestInfo = createAsyncThunk(\r\n  \"adherent/adherent\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"/adherent/adherent\", {\r\n        transformRequest: [\r\n          (data, headers) => {\r\n            delete headers.common.Authorization;\r\n\r\n            return data;\r\n          },\r\n        ],\r\n      });\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const adherentSlice = createSlice({\r\n  name: \"adherent\",\r\n  initialState: {\r\n    adherentStatus: \"idle\",\r\n    adherents: null,\r\n    errors: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getRestInfo.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adherentStatus: \"loading\",\r\n      };\r\n    },\r\n    [getRestInfo.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adherents: action.payload,\r\n        adherentStatus: \"succeded\",\r\n        errors: null,\r\n      };\r\n    },\r\n    [getRestInfo.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adherentStatus: \"failed\",\r\n        errors: action.payload,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default adherentSlice.reducer;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport { initState } from \"../../features/authSlice\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaCheckCircle } from \"react-icons/fa\";\r\nimport { FaPlusCircle } from \"react-icons/fa\";\r\nimport { RiFacebookCircleFill } from \"react-icons/ri\";\r\nimport { FaInstagram } from \"react-icons/fa\";\r\nimport { ImWhatsapp } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport ContactUs from \"../../Components/ContactUs/ContactUs.js\";\r\nimport { getRestInfo } from \"../../features/adherentSlice.js\";\r\nimport \"./Home.css\";\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(initState());\r\n  }, []);\r\n  const { adherentStatus, errors, adherents } = useSelector(\r\n    (state) => state.adherent\r\n  );\r\n  useEffect(() => {\r\n    dispatch(getRestInfo());\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home__content\">\r\n        <div className=\"home__content__left\">\r\n          <h2>Digitalisez vos cartes! </h2>\r\n          <p>\r\n            DigitMenu permet l'affichage dynamique et interactif de votre carte,\r\n            vous pouvez grer en quelques clics vos plats, menu, dessert et tous\r\n            se met  jour automatiquement ...\r\n          </p>\r\n          <Link to=\"/scan-code\">\r\n            <button className=\"home__content__btn\">Notre Menu </button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"scan\">\r\n          <img src=\"images/bg-light.png\" alt=\" \" />\r\n        </div>\r\n      </div>\r\n      <div className=\"home__sante\">\r\n        <p>Votre sant est une priorit !</p>\r\n        <p>\r\n          DigitMenu a t conue afin de garantir autant que possible votre\r\n          sant et celle de vos clients!\r\n        </p>\r\n        <img src=\"images/Codiv-19.png\" alt=\"\" />\r\n      </div>\r\n      <section className=\"home__fonct\" id=\"sect1\">\r\n        <h4>Utilisation simple et efficace sans installation :</h4>\r\n        <div className=\"home__fonct__step\">\r\n          <IconContext.Provider value={{ className: \"check-icon\" }}>\r\n            <div>\r\n              <FaCheckCircle />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>\r\n            Le consommateur a juste besoin de scanner un QR code affich sur vos\r\n            tables\r\n          </p>\r\n        </div>\r\n        <div className=\"home__fonct__step\">\r\n          <IconContext.Provider value={{ className: \"check-icon\" }}>\r\n            <div>\r\n              <FaCheckCircle />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>\r\n            Il est alors redirig automatiquement vers votre carte dmatrialis\r\n          </p>\r\n        </div>\r\n        <div className=\"home__fonct__step\">\r\n          <IconContext.Provider value={{ className: \"check-icon\" }}>\r\n            <div>\r\n              <FaCheckCircle />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>la commande est prise sans le moindre contact</p>\r\n        </div>\r\n        <div className=\"home__fonct__img\">\r\n          <img src=\"images/img1.png\" alt=\"\" />\r\n          <div className=\"home__fonct__img__content\">\r\n            <img src=\"images/img2.png\" alt=\"\" />\r\n            <IconContext.Provider value={{ className: \"plus-icon\" }}>\r\n              <div>\r\n                <FaPlusCircle />\r\n              </div>\r\n            </IconContext.Provider>\r\n            <img src=\"images/img3.png\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <div className=\"block\">\r\n        <p>Booster votre restaurant !</p>\r\n        <p>\r\n          Ouvrez vous des nouveaux horizons via le digital pour sortir de la\r\n          crise du coronavirus\r\n        </p>\r\n      </div>\r\n\r\n      <section className=\"home__avantages\" id=\"sect2\">\r\n        <p>\r\n          En plus du respect des gestes barrires et du nouveau mode de vie que\r\n          nous devons adopter, le menu digital pour votre restaurant vous permet\r\n          de mettre  jour en temps rel votre carte et d'offrir une exprience\r\n          unique  vos clients.\r\n        </p>\r\n        <p>\r\n          Consacrez-vous  votre art et ne gaspillez pas votre temps et votre\r\n          nergie  dsinfecter vos cartes pour chaque nouveau client. DigitMenu\r\n          est une solution rapide, conomique, qui respecte les gestes barrires\r\n          pour vous librer.\r\n        </p>\r\n        <p>\r\n          Toutes les mises  jour de votre menu digital restaurant sont\r\n          immdiatement visibles par vos clients. Un plat cach par suite dune\r\n          rupture de stock ou d'un problme en cuisine, un visuel  changer, un\r\n          prix  adapter...le menu visible par vos clients est  jour, votre\r\n          service est trs largement amlior.\r\n        </p>\r\n        <p>\r\n          {\" \"}\r\n          Vous limitez votre impact sur la nature en vitant les rimpressions\r\n          rgulires de vos cartes. Vous ne gaspillez plus de papier et vous\r\n          diminuez vos dchets pour vous inscrire dans une dmarche\r\n          coresponsable.\r\n        </p>\r\n      </section>\r\n      <section className=\"home__adher\" id=\"sect3\">\r\n        <h1> Les adhrents </h1>\r\n\r\n        <div className=\"home__adher__items slider\">\r\n          <div className=\"slide-track\">\r\n            {adherentStatus === \"loading\" ? (\r\n              <span>Loading...</span>\r\n            ) : adherentStatus === \"succeded\" ? (\r\n              adherents && adherents.length > 0 ? (\r\n                adherents.map((adher) => (\r\n                  <div className=\"slide\" key={adher._id}>\r\n                    <img className=\"images\" src={adher.logo} alt=\"adherent\" />\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <span>soyer le premier ..</span>\r\n              )\r\n            ) : (\r\n              adherentStatus === \"failed\" && (\r\n                <span>une erreur est survenue</span>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <footer className=\"footer\" id=\"sect4\">\r\n        <ContactUs />\r\n        <div className=\"footer__content\">\r\n          <div className=\"social__contact\">\r\n            <div className=\"contact__us__left contact__us__border\">\r\n              <p>Nous contacter</p>\r\n            </div>\r\n            <div className=\"social__icons\">\r\n              <IconContext.Provider\r\n                value={{ className: \"social__icons__style\" }}\r\n              >\r\n                <RiFacebookCircleFill />\r\n              </IconContext.Provider>\r\n\r\n              <IconContext.Provider\r\n                value={{ className: \"social__icons__style\" }}\r\n              >\r\n                <FaInstagram />\r\n              </IconContext.Provider>\r\n              <IconContext.Provider\r\n                value={{ className: \"social__icons__style\" }}\r\n              >\r\n                <ImWhatsapp />\r\n              </IconContext.Provider>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"copy-right\">\r\n            &copy; 2021 Copyright all right reserved.\r\n          </p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Link } from 'react-scroll';\r\n\r\nconst ScrollComponent = (props) => {\r\n  return (\r\n    <Link\r\n      activeClass='active'\r\n      to={props.section}\r\n      spy={true}\r\n      smooth={true}\r\n      offset={-70}\r\n      duration={900}>\r\n      {props.children}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ScrollComponent;\r\n","import React, { Fragment, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { logout } from '../../features/authSlice';\r\nimport { HiMenuAlt3 } from 'react-icons/hi';\r\nimport { MdRestaurantMenu } from 'react-icons/md';\r\nimport { IconContext } from 'react-icons';\r\nimport ScrollComponent from '../../utils/scroll';\r\nimport './Navbar.css';\r\n\r\nconst Navbar = () => {\r\n  const [click, setClick] = useState(false);\r\n  const handleClick = () => setClick(!click);\r\n  const closeMobileMenu = () => setClick(false);\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const isAuth = useSelector((state) => state.auth.isAuthenticated);\r\n  const isClient = useSelector((state) => state.auth.isClient);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const handleLog = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  const adminMenu = (\r\n    <Fragment>\r\n      <Link to='/admin-section'>\r\n        <span className='navbar__link__logo'>\r\n          <img\r\n            className='navbar__link--logo'\r\n            src='images/logo/digitmenu-logo.svg'\r\n            alt='logo'\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to='/'>\r\n        <span className='navbar__link' onClick={handleLog}>\r\n          Dconnexion\r\n        </span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const ownerMenu = (\r\n    <Fragment>\r\n      <Link to='/owner-section'>\r\n        <span className='navbar__link__logo'>\r\n          <img\r\n            className='navbar__link--logo'\r\n            src='images/logo/digitmenu-logo.svg'\r\n            alt='logo'\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to='/'>\r\n        <span className='navbar__link' onClick={handleLog}>\r\n          Dconnexion\r\n        </span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const homeMenu = (\r\n    <Fragment>\r\n      <Link to='/'>\r\n        <span className='navbar__link__logo'>\r\n          <img\r\n            className='navbar__link--logo'\r\n            src='images/logo/digitmenu-logo.svg'\r\n            alt='logo'\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      {location.pathname === '/' && (\r\n        <div\r\n          className={click ? 'navbar__first-menu active' : 'navbar__first-menu'}\r\n          onClick={closeMobileMenu}>\r\n          <ScrollComponent section='sect1'>\r\n            <span className='navbar__link' onClick={closeMobileMenu}>\r\n              fonctionnement\r\n            </span>\r\n          </ScrollComponent>\r\n\r\n          <ScrollComponent section='sect2'>\r\n            <span className='navbar__link' onClick={closeMobileMenu}>\r\n              avantages\r\n            </span>\r\n          </ScrollComponent>\r\n          <ScrollComponent section='sect3'>\r\n            <span className='navbar__link' onClick={closeMobileMenu}>\r\n              adhrents\r\n            </span>\r\n          </ScrollComponent>\r\n          <ScrollComponent section='sect4'>\r\n            <span className='navbar__link' onClick={closeMobileMenu}>\r\n              Nous contacter\r\n            </span>\r\n          </ScrollComponent>\r\n        </div>\r\n      )}\r\n      <div className='navbar__second-menu'>\r\n        <Link to='/signin' onClick={closeMobileMenu}>\r\n          <span className='navbar__link'>se connecter</span>\r\n        </Link>\r\n        <div\r\n          className={location.pathname === '/' ? 'mobile-menu' : 'mobile-menu-hide'}\r\n          onClick={handleClick}>\r\n          {click ? (\r\n            <IconContext.Provider value={{ className: 'menu-icon' }}>\r\n              <div>\r\n                <MdRestaurantMenu />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <IconContext.Provider value={{ className: 'menu-icon' }}>\r\n              <div>\r\n                <HiMenuAlt3 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n  const clientMenu = (\r\n    <Fragment>\r\n      <Link to='/client-page'>\r\n        <span className='navbar__link__logo'>\r\n          <img\r\n            className='navbar__link--logo'\r\n            src='images/logo/digitmenu-logo.svg'\r\n            alt='logo'\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to='/'>\r\n        <span className='navbar__link'>Deconnexion</span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const workerMenu = (\r\n    <Fragment>\r\n      <Link to='/worker-section'>\r\n        <span className='navbar__link__logo'>\r\n          <img\r\n            className='navbar__link--logo'\r\n            src='images/logo/digitmenu-logo.svg'\r\n            alt='logo'\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to='/'>\r\n        <span className='navbar__link' onClick={handleLog}>\r\n          Dconnexion\r\n        </span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const navMenu = isAuth\r\n    ? user.role === 'owner'\r\n      ? ownerMenu\r\n      : user.role === 'admin'\r\n      ? adminMenu\r\n      : workerMenu\r\n    : isClient\r\n    ? clientMenu\r\n    : homeMenu;\r\n\r\n  return <div className='navbar'>{navMenu}</div>;\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { login } from '../../features/authSlice';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport './SignIn.css';\r\n\r\nconst SignIn = () => {\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const { username, password } = values;\r\n  const { authStatus, authErrors } = useSelector((state) => state.auth);\r\n\r\n  let history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login({ history, username, password }));\r\n  };\r\n  return (\r\n    <div className='signin'>\r\n      <div className='signin__container'>\r\n        <h1>Se connecter</h1>\r\n        <form>\r\n          <div className='signin__form__group'>\r\n            <h5>Nom d'utilisateur</h5>\r\n            <span>\r\n              {authStatus.authUser === 'failed' &&\r\n                authErrors.authUser &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'username')[0] &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'username')[0].msg}\r\n            </span>\r\n            <input\r\n              type='text'\r\n              className='signin__container__form__input valid__input'\r\n              name='username'\r\n              value={username}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className='signin__form__group'>\r\n            <h5>Mot de passe</h5>\r\n            <span>\r\n              {authStatus.authUser === 'failed' &&\r\n                authErrors.authUser &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'password')[0] &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'password')[0].msg}\r\n            </span>\r\n\r\n            <input\r\n              type='password'\r\n              className='signin__container__form__input valid__input'\r\n              name='password'\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button type='submit' className='signin__signInButton' onClick={handleClick}>\r\n            {authStatus.authUser === 'loading' ? (\r\n              <IconContext.Provider value={{ className: 'spinner' }}>\r\n                <div>\r\n                  <ImSpinner9 />\r\n                </div>\r\n              </IconContext.Provider>\r\n            ) : (\r\n              <span>connexion</span>\r\n            )}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Redirect, useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authClient } from '../../features/authSlice';\r\nimport { FaRegSmileWink } from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons';\r\nimport QrReader from 'react-qr-scanner';\r\nimport './ScanCode.css';\r\n\r\nconst ScanCode = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { authStatus } = useSelector((state) => state.auth);\r\n  const [values, setValues] = useState({\r\n    delay: 500,\r\n    result: null,\r\n    code: '',\r\n  });\r\n  const { delay, result, code } = values;\r\n  const handleScan = (data) => {\r\n    setValues({ ...values, result: data });\r\n  };\r\n  const handleError = (err) => {\r\n    console.error(err);\r\n  };\r\n  const previewStyle = {\r\n    height: 220,\r\n    width: 200,\r\n  };\r\n  // const handleInput = (e) => {\r\n  //   setValues({ ...values, code: e.target.value });\r\n  // };\r\n  // const handleSubmit = () => {\r\n  //   setValues({ ...values, result: code });\r\n  // };\r\n  useEffect(() => {\r\n    if (result)\r\n      dispatch(\r\n        authClient({\r\n          restId: result.split('+')[0],\r\n          tableNumber: result.split('+')[1],\r\n          history,\r\n        })\r\n      );\r\n  }, [result]);\r\n\r\n  return (\r\n    <div className='code'>\r\n      {authStatus.authClient === 'failed' ? (\r\n        <div className='message-client'>\r\n          <IconContext.Provider value={{ className: 'auth-failed' }}>\r\n            <div>\r\n              <FaRegSmileWink />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>Ce qr Code n'est pas valide </p>\r\n        </div>\r\n      ) : (\r\n        <Fragment>\r\n          <div className='reader'>\r\n            <QrReader\r\n              className='qr-reader'\r\n              delay={delay}\r\n              style={previewStyle}\r\n              onError={handleError}\r\n              onScan={handleScan}\r\n            />\r\n          </div>\r\n          {/* <input\r\n            size='50'\r\n            className='test'\r\n            type='text'\r\n            name='code'\r\n            value={code}\r\n            onChange={handleInput}\r\n          />\r\n          <button onClick={handleSubmit}>confirm</button>\r\n          <h1>{result}</h1> */}\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScanCode;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nexport const createOwner = createAsyncThunk(\r\n  \"owner/create-owner\",\r\n  async (data, { rejectWithValue }) => {\r\n    console.log(data);\r\n    try {\r\n      const response = await axios.post(\"/owner/create-owner\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getAllOwners = createAsyncThunk(\r\n  \"owner/get-all\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"/owner/owners\");\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteOwner = createAsyncThunk(\r\n  \"owner/delete-owner\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/owner/del-owner\", data);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const adminSlice = createSlice({\r\n  name: \"owner\",\r\n  initialState: {\r\n    owner: \"\",\r\n\r\n    owners: null,\r\n    adminStatus: {\r\n      create: \"idle\",\r\n      delete: \"idle\",\r\n      getAll: \"idle\",\r\n    },\r\n    adminErrors: {\r\n      create: null,\r\n      delete: null,\r\n\r\n      getAll: null,\r\n    },\r\n  },\r\n  reducers: {\r\n    initErrors(state) {\r\n      return {\r\n        ...state,\r\n        adminErrors: { create: null, delete: null, getAll: null },\r\n      };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [createOwner.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [createOwner.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, create: \"succeded\" },\r\n        adminErrors: { ...state.adminErrors, create: null },\r\n        owner: action.payload,\r\n      };\r\n    },\r\n    [createOwner.rejected]: (state, action) => ({\r\n      ...state,\r\n      adminStatus: { ...state.adminStatus, create: \"failed\" },\r\n      adminErrors: { ...state.adminErrors, create: action.payload },\r\n    }),\r\n    [getAllOwners.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, getAll: \"loading\" },\r\n      };\r\n    },\r\n    [getAllOwners.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        owners: action.payload,\r\n        adminStatus: { ...state.adminStatus, getAll: \"succeded\" },\r\n        adminErrors: { ...state.adminErrors, getAll: null },\r\n      };\r\n    },\r\n    [getAllOwners.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, getAll: \"failed\" },\r\n        adminErrors: { ...state.adminErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [deleteOwner.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteOwner.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        owner: action.payload,\r\n        adminStatus: { ...state.adminStatus, delete: \"succeded\" },\r\n        adminErrors: { ...state.adminErrors, delete: null },\r\n      };\r\n    },\r\n    [deleteOwner.rejected]: (state, action) => ({\r\n      ...state,\r\n      adminStatus: { ...state.adminStatus, delete: \"failed\" },\r\n      adminErrors: { ...state.adminErrors, delete: action.payload },\r\n    }),\r\n  },\r\n});\r\nexport const { initErrors } = adminSlice.actions;\r\n\r\nexport default adminSlice.reducer;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport { createOwner } from '../../features/adminSlice';\r\nimport './AddOwner.css';\r\n\r\nconst AddOwner = () => {\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n  const { username, password } = values;\r\n  const dispatch = useDispatch();\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const { adminStatus, adminErrors } = useSelector((state) => state.admin);\r\n  useEffect(() => {\r\n    if (adminStatus.create === 'succeded') {\r\n      setValues({ username: '', password: '' });\r\n    }\r\n  }, [adminStatus]);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createOwner({ username, password }));\r\n  };\r\n  return (\r\n    <div className='addowner'>\r\n      <h3>Create new Owner</h3>\r\n      <form>\r\n        <div className='addowner__form__group'>\r\n          <h5>Username</h5>\r\n\r\n          <span>\r\n            {adminStatus.create === 'failed' &&\r\n              adminErrors.create &&\r\n              adminErrors.create.data.filter((err) => err.param === 'username')[0].msg}\r\n          </span>\r\n\r\n          <input\r\n            type='text'\r\n            className='addowner__container__form__input valid__input'\r\n            name='username'\r\n            value={username}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className='addowner__form__group'>\r\n          <h5>Password</h5>\r\n\r\n          <span>\r\n            {adminStatus.create === 'failed' &&\r\n              adminErrors.create &&\r\n              adminErrors.create.data.filter((err) => err.param === 'password')[0].msg}\r\n          </span>\r\n\r\n          <input\r\n            type='password'\r\n            className='addowner__container__form__input valid__input'\r\n            name='password'\r\n            value={password}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <button type='submit' className='addowner__addownerButton' onClick={handleSubmit}>\r\n          {adminStatus.create === 'loading' ? (\r\n            <IconContext.Provider value={{ className: 'spinner' }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>Add</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddOwner;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deleteOwner } from '../../features/adminSlice';\r\n\r\nimport './OwnerList.css';\r\n\r\nconst OwnerList = ({ owners }) => {\r\n  const dispatch = useDispatch();\r\n  const handleClick = (id) => {\r\n    dispatch(deleteOwner({ id }));\r\n  };\r\n  return (\r\n    <div className='ownerlist'>\r\n      <h3>List of Clients</h3>\r\n      {owners && owners.length > 0 ? (\r\n        owners.map((owner) => (\r\n          <div className='ownerlist__item' key={owner._id}>\r\n            <h5>The Owner :</h5>\r\n            <span>{owner.username}</span>\r\n            <button onClick={() => handleClick(owner._id)} className='owner__btn'>\r\n              delete\r\n            </button>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <h5>you have no client yet</h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerList;\r\n","import React, { useEffect } from 'react';\r\nimport AddOwner from '../../Components/AddOwner/AddOwner';\r\nimport OwnerList from '../../Components/OwnerList/OwnerList';\r\nimport { getAllOwners } from '../../features/adminSlice';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport openSocket from 'socket.io-client';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport './AdminSection.css';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst AdminSection = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  let isAuth = useSelector((state) => state.auth.isAuthenticated);\r\n  useEffect(() => {\r\n    if (isAuth) {\r\n      dispatch(getAllOwners());\r\n    }\r\n  }, [isAuth]);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/admin-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    socket.on('owners', (data) => {\r\n      console.log('from server', data.action);\r\n      dispatch(getAllOwners());\r\n    });\r\n\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n\r\n  const { owners, adminStatus, adminErrors } = useSelector((state) => state.admin);\r\n\r\n  return (\r\n    <div className='admin'>\r\n      <AddOwner />\r\n\r\n      {adminStatus.getAll === 'loading' ? (\r\n        <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : adminStatus.getAll === 'failed' ? (\r\n        <h2>something went wrong</h2>\r\n      ) : adminStatus.getAll === 'succeded' && owners.length > 0 ? (\r\n        <OwnerList owners={owners} />\r\n      ) : (\r\n        <h5>you have no clients</h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSection;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const createRestaurant = createAsyncThunk(\r\n  \"restaurant/create-restaurant\",\r\n  async (formData, { rejectWithValue }) => {\r\n    formData.forEach((value, key) => {\r\n      console.log(\"key,value\", key, value);\r\n    });\r\n    try {\r\n      const response = await axios.post(\r\n        \"/restaurant/create-restaurant\",\r\n        formData\r\n      );\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteRestaurant = createAsyncThunk(\r\n  \"restaurant/delete-restaurant\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/restaurant/del-rest\", formData);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const editRestaurant = createAsyncThunk(\r\n  \"restaurant/edit-restaurant\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/restaurant/edit-rest\", formData);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getRestList = createAsyncThunk(\r\n  \"restaurant/getAll\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"/restaurant/my-rests\");\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const ownerSlice = createSlice({\r\n  name: \"restaurant\",\r\n  initialState: {\r\n    restList: null,\r\n    ownerStatus: {\r\n      create: \"idle\",\r\n      edit: \"idle\",\r\n      delete: \"idle\",\r\n      getList: \"idle\",\r\n    },\r\n    ownerErrors: { create: null, edit: null, delete: null, getList: null },\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [createRestaurant.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [createRestaurant.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, create: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, create: null },\r\n        owner: action.payload,\r\n      };\r\n    },\r\n    [createRestaurant.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, create: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, create: action.payload },\r\n      };\r\n    },\r\n    [getRestList.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, getList: \"loading\" },\r\n      };\r\n    },\r\n    [getRestList.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, getList: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, getList: null },\r\n        restList: action.payload,\r\n      };\r\n    },\r\n    [getRestList.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, getList: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, getList: action.payload },\r\n      };\r\n    },\r\n    [deleteRestaurant.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteRestaurant.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, delete: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, delete: null },\r\n      };\r\n    },\r\n    [deleteRestaurant.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, delete: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, delete: action.payload },\r\n      };\r\n    },\r\n    [editRestaurant.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, edit: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, edit: action.payload },\r\n      };\r\n    },\r\n\r\n    [editRestaurant.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, edit: \"loading\" },\r\n      };\r\n    },\r\n    [editRestaurant.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, edit: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, edit: null },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default ownerSlice.reducer;\r\n","export const generateBase64FromImage = (imageFile) => {\r\n  const reader = new FileReader();\r\n  const promise = new Promise((resolve, reject) => {\r\n    reader.onload = (e) => resolve(e.target.result);\r\n    reader.onerror = (err) => reject(err);\r\n  });\r\n\r\n  reader.readAsDataURL(imageFile);\r\n  return promise;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { createRestaurant } from \"../../features/ownerSlice\";\r\nimport { generateBase64FromImage } from \"../../utils/image\";\r\nimport \"./AddRestaurant.css\";\r\n\r\nconst AddRestaurant = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    logo: \"\",\r\n    preview: \"\",\r\n  });\r\n  const { name, logo, address, preview } = values;\r\n  const dispatch = useDispatch();\r\n  const { ownerStatus, ownerErrors } = useSelector((state) => state.owner);\r\n  useEffect(() => {\r\n    if (ownerStatus.create === \"succeded\")\r\n      setValues({ name: \"\", address: \"\", logo: \"\", preview: \"\" });\r\n  }, [ownerStatus]);\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const fileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, logo: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"address\", address);\r\n    formData.append(\"image\", logo);\r\n    dispatch(createRestaurant(formData));\r\n  };\r\n  return (\r\n    <div className=\"addrestau\">\r\n      <h3>Ajouter un restaurant</h3>\r\n      <form>\r\n        <div className=\"addrestau__form__group\">\r\n          <h5>Nom du Restaurant</h5>\r\n          <span>\r\n            {ownerStatus.create === \"failed\" &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"name\"\r\n              )[0] &&\r\n              ownerErrors.create.data.filter((err) => err.param === \"name\")[0]\r\n                .msg}\r\n          </span>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"addrestau__container__form__input valid__input\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"addrestau__form__group\">\r\n          <h5>adresse</h5>\r\n          <span>\r\n            {ownerStatus.create === \"failed\" &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"address\"\r\n              )[0] &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"address\"\r\n              )[0].msg}\r\n          </span>\r\n\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"num rue xxx ville\"\r\n            className=\"addrestau__container__form__input valid__input\"\r\n            name=\"address\"\r\n            value={address}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"addrestau__form__group\">\r\n          <h5>logo</h5>\r\n          <span>\r\n            {ownerStatus.create === \"failed\" &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"logo\"\r\n              )[0] &&\r\n              ownerErrors.create.data.filter((err) => err.param === \"logo\")[0]\r\n                .msg}\r\n          </span>\r\n          <div className=\"img-section\">\r\n            <input\r\n              type=\"file\"\r\n              className=\"addrestau__container__form__input valid__input\"\r\n              name=\"logo\"\r\n              onChange={fileHandler}\r\n            />\r\n            {preview && <img className=\"logo-preview\" src={preview} alt=\"d\" />}\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"addrestau__addrestauButton\"\r\n          onClick={handleSubmit}\r\n        >\r\n          {ownerStatus.create === \"loading\" ? (\r\n            <IconContext.Provider value={{ className: \"spinner\" }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddRestaurant;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteRestaurant, editRestaurant } from \"../../features/ownerSlice\";\r\nimport { generateBase64FromImage } from \"../../utils/image\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { MdRestaurantMenu } from \"react-icons/md\";\r\n\r\nimport \"./RestaurantListItem.css\";\r\nimport { FaUsersCog } from \"react-icons/fa\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { GoListUnordered } from \"react-icons/go\";\r\nimport { GiTable } from \"react-icons/gi\";\r\n\r\nconst RestaurantListIem = ({ rest }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    image: \"\",\r\n    preview: \"\",\r\n    address: \"\",\r\n    edit: false,\r\n  });\r\n  const { name, image, preview, address, edit } = values;\r\n  const dispatch = useDispatch();\r\n  const { ownerStatus, ownerErrors } = useSelector((state) => state.owner);\r\n  useEffect(() => {\r\n    if (ownerStatus.edit === \"succeded\")\r\n      setValues({ ...values, edit: false, preview: null });\r\n  }, [ownerStatus]);\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteRestaurant({ restId: id }));\r\n  };\r\n  const handleFile = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, image: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleData = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const handleEdit = (rest) => {\r\n    if (!edit) {\r\n      setValues({\r\n        name: rest.name,\r\n        address: rest.address,\r\n        edit: true,\r\n      });\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append(\"name\", name);\r\n      formData.append(\"address\", address);\r\n      formData.append(\"image\", image);\r\n      formData.append(\"restId\", rest._id);\r\n      formData.append(\"lastImg\", rest.logo);\r\n      dispatch(editRestaurant(formData));\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"restlist__item\">\r\n      <div className=\"restlist__item__form\">\r\n        <div className=\"restlist__item__form__group\">\r\n          {edit ? (\r\n            <input type=\"file\" name=\"image\" onChange={handleFile} />\r\n          ) : (\r\n            <img className=\"image-prev\" src={rest.logo} alt=\"\" />\r\n          )}\r\n          {preview && <img className=\"image-prev\" src={preview} alt=\" \" />}\r\n        </div>\r\n        <div className=\"restlist__item__form__group\">\r\n          <h5>NOM : </h5>\r\n          <span className=\"error-message\">\r\n            {edit &&\r\n              ownerStatus.edit === \"failed\" &&\r\n              ownerErrors.edit.data.filter((err) => err.param === \"name\")[0] &&\r\n              ownerErrors.edit.data.filter((err) => err.param === \"name\")[0]\r\n                .msg}\r\n          </span>\r\n          {edit ? (\r\n            <input type=\"text\" name=\"name\" value={name} onChange={handleData} />\r\n          ) : (\r\n            <p>{rest.name}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"restlist__item__form__group\">\r\n          <h5>Addresse : </h5>\r\n          <span className=\"error-message\">\r\n            {edit &&\r\n              ownerStatus.edit === \"failed\" &&\r\n              ownerErrors.edit.data.filter(\r\n                (err) => err.param === \"address\"\r\n              )[0] &&\r\n              ownerErrors.edit.data.filter((err) => err.param === \"address\")[0]\r\n                .msg}\r\n          </span>\r\n          {edit ? (\r\n            <input\r\n              type=\"text\"\r\n              name=\"address\"\r\n              value={address}\r\n              onChange={handleData}\r\n            />\r\n          ) : (\r\n            <p>{rest.address}</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"restlist__item__form__button\">\r\n          <button onClick={() => handleDelete(rest._id)}>\r\n            {edit && ownerStatus.delete === \"loading\" ? (\r\n              <IconContext.Provider value={{ className: \"spinner\" }}>\r\n                <div>\r\n                  <ImSpinner9 />\r\n                </div>\r\n              </IconContext.Provider>\r\n            ) : (\r\n              <span>Supprimer</span>\r\n            )}\r\n          </button>\r\n          <button onClick={() => handleEdit(rest)}>\r\n            <span>Modifier</span>\r\n          </button>\r\n        </div>\r\n        <div className=\"restlist__item__form__links\">\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/my-rest\",\r\n              state: {\r\n                restId: rest._id,\r\n                logo: rest.logo,\r\n                restName: rest.name,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <MdRestaurantMenu />\r\n                </IconContext.Provider>\r\n                <span>Menu</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/staff\",\r\n              state: {\r\n                restId: rest._id,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <FaUsersCog />\r\n                </IconContext.Provider>\r\n                <span> Staff</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/orders\",\r\n              state: {\r\n                restId: rest._id,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <GoListUnordered />\r\n                </IconContext.Provider>\r\n                <span>Commandes</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/tables\",\r\n              state: {\r\n                restId: rest._id,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <GiTable />\r\n                </IconContext.Provider>\r\n                <span>Tables</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantListIem;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport RestaurantListItem from \"../RestaurantListItem/RestaurantListIem\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport \"./RestaurantList.css\";\r\n\r\nconst RestaurantList = ({ restaurants }) => {\r\n  const { ownerStatus, ownerErrors } = useSelector((state) => state.owner);\r\n  return (\r\n    <div className=\"restlist\">\r\n      <h3>Liste des restaurants</h3>\r\n      <div className=\"restlist__list\">\r\n        {ownerStatus.getList === \"loading\" ? (\r\n          <IconContext.Provider value={{ className: \"spinner--large\" }}>\r\n            <div>\r\n              <ImSpinner9 />\r\n            </div>\r\n          </IconContext.Provider>\r\n        ) : ownerStatus.getList === \"failed\" ? (\r\n          <h2>something went wrong</h2>\r\n        ) : ownerStatus.getList === \"succeded\" && restaurants.length > 0 ? (\r\n          restaurants.map((rest) => (\r\n            <RestaurantListItem key={rest._id} rest={rest} />\r\n          ))\r\n        ) : (\r\n          <h5> aucun restaurant n'est enregistr </h5>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantList;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const getMenuByRest = createAsyncThunk(\r\n  \"menu/rest-menu\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const res = await axios.get(`/menu/get-rest-menu/${id}`);\r\n      return res.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteItemMenu = createAsyncThunk(\r\n  \"menu/delete-item\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/menu/delete-item\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const editItemMenu = createAsyncThunk(\r\n  \"menu/edit-item\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/menu/edit-item\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const addToMenu = createAsyncThunk(\r\n  \"restaurant/add-to-menu\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/menu/update-menu\", formData);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const menuSlice = createSlice({\r\n  name: \"menu\",\r\n  initialState: {\r\n    menu: null,\r\n    menuErrors: { create: null, edit: null, delete: null, getMenu: null },\r\n    menuStatus: {\r\n      create: \"idle\",\r\n      edit: \"idle\",\r\n      delete: \"idle\",\r\n      getMenu: \"idle\",\r\n    },\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getMenuByRest.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, getMenu: \"loading\" },\r\n      };\r\n    },\r\n    [getMenuByRest.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, getMenu: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, getMenu: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [getMenuByRest.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, getMenu: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, getMenu: action.payload },\r\n      };\r\n    },\r\n    [addToMenu.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [addToMenu.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, create: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, create: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [addToMenu.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, create: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, create: action.payload },\r\n      };\r\n    },\r\n\r\n    [deleteItemMenu.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteItemMenu.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, delete: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, delete: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [deleteItemMenu.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, delete: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, delete: action.payload },\r\n      };\r\n    },\r\n    [editItemMenu.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, edit: \"loading\" },\r\n      };\r\n    },\r\n    [editItemMenu.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, edit: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, edit: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [editItemMenu.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, edit: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, edit: action.payload },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default menuSlice.reducer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport { addToMenu } from '../../features/menuSlice';\r\nimport openSocket from 'socket.io-client';\r\nimport { generateBase64FromImage } from '../../utils/image';\r\nimport './AddMenu.css';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst AddMenu = () => {\r\n  const ref = React.useRef();\r\n  const clearImag = () => {\r\n    ref.current.value = '';\r\n  };\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    price: '',\r\n    image: '',\r\n    preview: '',\r\n    description: '',\r\n    categorie: 'entree',\r\n  });\r\n  const location = useLocation();\r\n  const { restId, restName } = location.state;\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    socket.on('connect', () => {});\r\n    if (restId) {\r\n      console.log('restid', restId);\r\n      socket.emit('joinRoom', { restId });\r\n    }\r\n\r\n    socket.on('hi', (data) => {\r\n      console.log('from server', data);\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [restId]);\r\n\r\n  const { name, price, image, description, categorie, preview } = values;\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const { menuStatus, menuErrors } = useSelector((state) => state.menu);\r\n  useEffect(() => {\r\n    if (menuStatus.create === 'succeded') {\r\n      setValues({\r\n        name: '',\r\n        price: '',\r\n        image: '',\r\n        preview: '',\r\n        description: '',\r\n        categorie: 'entree',\r\n      });\r\n      clearImag();\r\n    }\r\n  }, [menuStatus]);\r\n  const fileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, image: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let formData = new FormData();\r\n    formData.append('restaurant', restId);\r\n    formData.append('name', name);\r\n    formData.append('price', price);\r\n    formData.append('image', image);\r\n    formData.append('description', description);\r\n    formData.append('categorie', categorie);\r\n\r\n    dispatch(addToMenu(formData));\r\n  };\r\n  return (\r\n    <div className='menu-add'>\r\n      <div className='menu__info'>\r\n        <h3> Cration de Menu</h3>\r\n        <h5>{restName}</h5>\r\n        {/* <img src={'/' + logo} alt='logo' /> */}\r\n      </div>\r\n      <form className='menu-add__form'>\r\n        <div className='menu__form__group'>\r\n          <h5> nom </h5>\r\n          <span>\r\n            {menuStatus.create === 'failed' &&\r\n              menuErrors.create.data.filter((err) => err.param === 'name')[0] &&\r\n              menuErrors.create.data.filter((err) => err.param === 'name')[0].msg}\r\n          </span>\r\n          <input\r\n            type='text'\r\n            className='menu__container__form__input'\r\n            name='name'\r\n            value={name}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className='menu__form__group'>\r\n          <h5>description</h5>\r\n          <span>\r\n            {menuStatus.create === 'failed' &&\r\n              menuErrors.create.data.filter((err) => err.param === 'description')[0] &&\r\n              menuErrors.create.data.filter((err) => err.param === 'description')[0].msg}\r\n          </span>\r\n          <input\r\n            type='text'\r\n            className='menu__container__form__input'\r\n            name='description'\r\n            value={description}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className='menu__form__group'>\r\n          <h5>prix</h5>\r\n          <span>\r\n            {menuStatus.create === 'failed' &&\r\n              menuErrors.create.data.filter((err) => err.param === 'price')[0] &&\r\n              menuErrors.create.data.filter((err) => err.param === 'price')[0].msg}\r\n          </span>\r\n          <input\r\n            type='text'\r\n            className='menu__container__form__input'\r\n            name='price'\r\n            value={price}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className='menu__form__group-select'>\r\n          <h5>categorie</h5>\r\n\r\n          <select name='categorie' value={categorie} onChange={handleChange}>\r\n            <option key='entree' value='entree'>\r\n              Entree\r\n            </option>\r\n            <option key='boisson' value='boisson'>\r\n              Boisson\r\n            </option>\r\n            <option key='plat' value='plat'>\r\n              plat\r\n            </option>\r\n            <option key='Dessert' value='Dessert'>\r\n              Dessert{' '}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div className='menu__form__group'>\r\n          <h5>photo du plat </h5>\r\n          <div className='img-section'>\r\n            <span>\r\n              {menuStatus.create === 'failed' &&\r\n                menuErrors.create.data.filter((err) => err.param === 'logo')[0] &&\r\n                menuErrors.create.data.filter((err) => err.param === 'logo')[0].msg}\r\n            </span>\r\n            <input\r\n              ref={ref}\r\n              type='file'\r\n              className='menu__form__file'\r\n              name='image'\r\n              onChange={fileHandler}\r\n            />\r\n            {preview && <img className='image-preview' src={preview} alt='d' />}\r\n          </div>\r\n        </div>\r\n\r\n        <button type='submit' className='menu__menuButton' onClick={handleSubmit}>\r\n          {menuStatus.create === 'loading' ? (\r\n            <IconContext.Provider value={{ className: 'spinner' }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>Ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddMenu;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const addTable = createAsyncThunk(\r\n  \"table/add-table\",\r\n  async (FormData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\"/table/create-table\", FormData);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getTables = createAsyncThunk(\r\n  \"table/get-tables\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      console.log(\"id rest\", id);\r\n      const response = await axios.get(`/table/my-tables/${id}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteTable = createAsyncThunk(\r\n  \"table/del-table\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.delete(`/table/del-table/${id}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const tableSlice = createSlice({\r\n  name: \"table\",\r\n  initialState: {\r\n    tableStatus: { create: \"idle\", delete: \"idle\", getAll: \"idle\" },\r\n    tableErrors: { create: null, delete: null, getAll: null },\r\n    table: null,\r\n    listTable: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [addTable.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [addTable.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        table: action.payload,\r\n        tableStatus: { ...state.tableStatus, create: \"succeded\" },\r\n        tableErrors: { ...state.tableErrors, create: null },\r\n      };\r\n    },\r\n    [addTable.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, create: \"failed\" },\r\n        tableErrors: { ...state.tableErrors, create: action.payload },\r\n      };\r\n    },\r\n    [getTables.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, getAll: \"loading\" },\r\n      };\r\n    },\r\n    [getTables.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        listTable: action.payload,\r\n        tableStatus: { ...state.tableStatus, getAll: \"succeded\" },\r\n        tableErrors: { ...state.tableErrors, getAll: null },\r\n      };\r\n    },\r\n    [getTables.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, getAll: \"failed\" },\r\n        tableErrors: { ...state.tableErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [deleteTable.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteTable.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, delete: \"succeded\" },\r\n        tableErrors: { ...state.tableErrors, delete: null },\r\n      };\r\n    },\r\n    [deleteTable.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, delete: \"failed\" },\r\n        tableErrors: { ...state.tableErrors, delete: action.payload },\r\n      };\r\n    },\r\n  },\r\n});\r\nexport default tableSlice.reducer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addTable } from \"../../features/tableSlice\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport \"./AddTable.css\";\r\n\r\nconst AddTable = ({ restId }) => {\r\n  const [values, setValues] = useState({\r\n    tableNumber: \"\",\r\n    tableCode: \"\",\r\n  });\r\n  const { tableNumber, tableCode } = values;\r\n  const dispatch = useDispatch();\r\n  const { tableStatus, tableErrors } = useSelector((state) => state.table);\r\n  useEffect(() => {\r\n    if (tableStatus.create === \"succeded\")\r\n      setValues({ ...values, tableNumber: \"\", tableCode: \"\" });\r\n  }, [tableStatus]);\r\n\r\n  const handleChange = (e) => {\r\n    setValues({\r\n      tableNumber: e.target.value,\r\n      tableCode: restId + \"+\" + e.target.value,\r\n    });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(addTable({ tableNumber, tableCode, restaurant: restId }));\r\n  };\r\n  return (\r\n    <div className=\"add-table\">\r\n      <h3>Ajout des tables </h3>\r\n      <form className=\"add-table__form\">\r\n        <div className=\"add-table__form__group\">\r\n          <h5>Numro de table</h5>\r\n          <input\r\n            type=\"number\"\r\n            name=\"tableNumber\"\r\n            value={tableNumber}\r\n            onChange={handleChange}\r\n            min=\"1\"\r\n          />\r\n\r\n          {tableStatus.create === \"failed\" && (\r\n            <span className=\"add-table-error\">\r\n              {\" \"}\r\n              {tableErrors.create.data[0].msg}\r\n            </span>\r\n          )}\r\n        </div>\r\n        <button type=\"submit\" onClick={handleSubmit}>\r\n          {tableStatus.create === \"loading\" ? (\r\n            <IconContext.Provider value={{ className: \"spinner\" }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>Ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTable;\r\n","import React, { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { deleteTable } from \"../../features/tableSlice\";\r\nimport \"./Tables.css\";\r\n\r\nconst Tables = ({ tables }) => {\r\n  const dispatch = useDispatch();\r\n  const componentRef = useRef();\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteTable(id));\r\n  };\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n    pageStyle: `\r\n      @page {\r\n    size: 100mm 100mm;\r\n  }\r\n    `,\r\n  });\r\n  return (\r\n    <div className=\"tables\">\r\n      <h4>liste des tables</h4>\r\n      {tables &&\r\n        tables.map((table) => (\r\n          <div className=\"tables__single-table\" key={table._id}>\r\n            <div className=\"tables__single-table__info\">\r\n              <h4>Numro de table</h4>\r\n              <p>{table.tableNumber}</p>\r\n            </div>\r\n            <img\r\n              ref={componentRef}\r\n              src={\"/images/\" + table.codeImg}\r\n              alt=\"code\"\r\n            />\r\n            <div className=\"tables__single-table__buttons\">\r\n              <button onClick={handlePrint}>Imprimer</button>\r\n              <button onClick={() => handleDelete(table._id)}>Supprimer</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tables;\r\n","import React, { useEffect } from \"react\";\r\nimport AddTable from \"../AddTable/AddTable\";\r\nimport Tables from \"../Tables/Tables\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { getTables } from \"../../features/tableSlice\";\r\nimport \"./TableList.css\";\r\n\r\nconst TableList = ({ channel }) => {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n\r\n  const { restId } = location.state;\r\n  useEffect(() => {\r\n    dispatch(getTables(restId));\r\n  }, [dispatch, restId]);\r\n  useEffect(() => {\r\n    if (channel) {\r\n      channel.on(\"tables\", (data) => {\r\n        console.log(\"tables\", data.action);\r\n        dispatch(getTables(restId));\r\n      });\r\n    }\r\n  }, [channel]);\r\n\r\n  const { listTable, tableStatus } = useSelector((state) => state.table);\r\n  return (\r\n    <div className=\"table-list\">\r\n      <AddTable restId={restId} tables={listTable} />\r\n      {tableStatus.getAll === \"loading\" ? (\r\n        <IconContext.Provider value={{ className: \"spinner--large\" }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : tableStatus.getAll === \"failed\" ? (\r\n        <h4>une erreur est survenue ! veuillez rsayer SVP</h4>\r\n      ) : tableStatus.getAll === \"succeded\" && listTable.length > 0 ? (\r\n        <Tables tables={listTable} />\r\n      ) : (\r\n        <h4>Aucune table n'est enregistre </h4>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableList;\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const createWorker = createAsyncThunk(\r\n  'staff/create-worker',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post('/worker/create-worker', data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getAllWorkers = createAsyncThunk(\r\n  'staff/get-all',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(`/worker/workers/${id}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteWorker = createAsyncThunk(\r\n  'staff/delete-worker',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/worker/del-worker', data);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const staffSlice = createSlice({\r\n  name: 'staff',\r\n  initialState: {\r\n    worker: '',\r\n    workers: null,\r\n    workerStatus: { create: 'idle', delete: 'idle', getAll: 'idle' },\r\n    workerErrors: { create: 'null', delete: 'null', getAll: 'null' },\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [createWorker.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, create: 'loading' },\r\n      };\r\n    },\r\n    [createWorker.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        worker: action.payload,\r\n        workerStatus: { ...state.workerStatus, create: 'succeded' },\r\n        workerErrors: { ...state.workerErrors, create: 'null' },\r\n      };\r\n    },\r\n    [createWorker.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, create: 'failed' },\r\n        workerErrors: { ...state.workerErrors, create: action.payload },\r\n      };\r\n    },\r\n    [getAllWorkers.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, getAll: 'loading' },\r\n      };\r\n    },\r\n    [getAllWorkers.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workers: action.payload,\r\n        workerStatus: { ...state.workerStatus, getAll: 'succeded' },\r\n        workerErrors: { ...state.workerErrors, getAll: 'null' },\r\n      };\r\n    },\r\n    [getAllWorkers.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, getAll: 'failed' },\r\n        workerErrors: { ...state.workerErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [deleteWorker.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, delete: 'loading' },\r\n      };\r\n    },\r\n    [deleteWorker.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        worker: action.payload,\r\n        workerStatus: { ...state.workerStatus, delete: 'succeded' },\r\n        workerErrors: { ...state.workerErrors, delete: 'null' },\r\n      };\r\n    },\r\n    [deleteWorker.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, delete: 'failed' },\r\n        workerErrors: { ...state.workerErrors, delete: action.payload },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default staffSlice.reducer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport { createWorker } from '../../features/staffSlice';\r\nimport './AddWorker.css';\r\n\r\nconst AddWorker = ({ restId }) => {\r\n  const [selectedOption, setSelectedOption] = useState('kitchen');\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n  const { username, password } = values;\r\n  const { workerStatus, workerErrors } = useSelector((state) => state.staff);\r\n  useEffect(() => {\r\n    if (workerStatus.create === 'succeded') setValues({ username: '', password: '' });\r\n  }, [workerStatus]);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      createWorker({ username, password, role: selectedOption, restaurantId: restId })\r\n    );\r\n  };\r\n  const onChangeRadio = (e) => {\r\n    setSelectedOption(e.target.value);\r\n  };\r\n  return (\r\n    <div className='add-worker'>\r\n      <h3>Ajouter un nouveau personnel</h3>\r\n      <form>\r\n        <div className='add-worker__form__group'>\r\n          <h5>login </h5>\r\n          <span>\r\n            {workerStatus.create === 'failed' &&\r\n              workerErrors.create &&\r\n              workerErrors.create.data.filter((err) => err.param === 'username')[0] &&\r\n              workerErrors.create.data.filter((err) => err.param === 'username')[0].msg}\r\n          </span>\r\n          <input\r\n            type='text'\r\n            className='add-worker__container__form__input'\r\n            name='username'\r\n            value={username}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className='add-worker__form__group'>\r\n          <h5>Mot de passe</h5>\r\n          <span>\r\n            {workerStatus.create === 'failed' &&\r\n              workerErrors.create &&\r\n              workerErrors.create.data.filter((err) => err.param === 'password')[0] &&\r\n              workerErrors.create.data.filter((err) => err.param === 'password')[0].msg}\r\n          </span>\r\n          <input\r\n            type='password'\r\n            className='add-worker__container__form__input'\r\n            name='password'\r\n            value={password}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className='add-worker__form__group'>\r\n          <h5>Position</h5>\r\n          <div className='radio-inputs'>\r\n            <input\r\n              type='radio'\r\n              value='kitchen'\r\n              checked={selectedOption === 'kitchen'}\r\n              onChange={onChangeRadio}\r\n            />\r\n            <p className='add-worker__form__group__radio'>Cuisine</p>\r\n            <input\r\n              className='second-radio-input'\r\n              type='radio'\r\n              value='server'\r\n              checked={selectedOption === 'server'}\r\n              onChange={onChangeRadio}\r\n            />\r\n            <p className='add-worker__form__group__radio'>Serveur</p>\r\n          </div>\r\n        </div>\r\n\r\n        <button type='submit' className='add-worker__addButton' onClick={handleSubmit}>\r\n          {workerStatus.create === 'loading' ? (\r\n            <IconContext.Provider value={{ className: 'spinner' }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddWorker;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { deleteWorker } from '../../features/staffSlice';\r\nimport './Workers.css';\r\n\r\nconst Workers = ({ list }) => {\r\n  const dispatch = useDispatch();\r\n  const handleClick = (id) => {\r\n    dispatch(deleteWorker({ id }));\r\n  };\r\n  return (\r\n    <div className='workerlist'>\r\n      <h3>Liste des personnels</h3>\r\n      {list &&\r\n        list.length > 0 &&\r\n        list.map((worker) => (\r\n          <div className='workerlist__item' key={worker._id}>\r\n            <div className='workerlist__item__info'>\r\n              <h5>Login {worker.role === 'kitchen' ? 'Cuisine' : 'Serveur'} :</h5>\r\n              <span>{worker.username}</span>\r\n            </div>\r\n            <button onClick={() => handleClick(worker._id)} className='worker__btn'>\r\n              Supprimer\r\n            </button>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Workers;\r\n","import React, { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport AddWorker from \"../AddWorker/AddWorker\";\r\nimport Workers from \"../Workers/Workers\";\r\nimport { getAllWorkers } from \"../../features/staffSlice\";\r\nimport \"./StaffList.css\";\r\n\r\nconst StaffList = ({ channel }) => {\r\n  const location = useLocation();\r\n  const { restId } = location.state;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getAllWorkers(restId));\r\n  }, []);\r\n  const { workers, workerStatus } = useSelector((state) => state.staff);\r\n  useEffect(() => {\r\n    if (channel) {\r\n      channel.on(\"workers\", (data) => {\r\n        console.log(\"workers\", data.action);\r\n        dispatch(getAllWorkers(restId));\r\n      });\r\n    }\r\n  }, [channel]);\r\n\r\n  return (\r\n    <div className=\"staff\">\r\n      <AddWorker restId={restId} />\r\n      {workerStatus.getAll === \"loading\" ? (\r\n        <IconContext.Provider value={{ className: \"spinner--large\" }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : workerStatus.getAll === \"failed\" ? (\r\n        <h4>Une erreur est survenue</h4>\r\n      ) : workerStatus.getAll === \"succeded\" && workers.length > 0 ? (\r\n        <Workers list={workers} />\r\n      ) : (\r\n        <h4>La liste des personnels est vide </h4>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffList;\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const createOrder = createAsyncThunk(\r\n  'order/create-order',\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post('/order/create-order', formData.data);\r\n      formData.history.push('/');\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const updateOrder = createAsyncThunk(\r\n  'order/update-order',\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/order/update-order', formData.data);\r\n      formData.history.push('/');\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getOrderById = createAsyncThunk(\r\n  'order/getById',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(`/order/get-client-order/${id}`);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getAllOrders = createAsyncThunk(\r\n  'order/getAll',\r\n  async (restId, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(`/order/get-order/${restId}`);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const checkoutOrder = createAsyncThunk(\r\n  'order/checkout-order',\r\n  async (orderId, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/order/checkout-order', orderId);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const cancelOrder = createAsyncThunk(\r\n  'order/cancel-order',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/order/cancel-order', data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const confirmCancelOrder = createAsyncThunk(\r\n  'order/confirm-cancel',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/order/confirm-cancel', data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const refuseCancelOrder = createAsyncThunk(\r\n  'order/refuse-cancel',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/order/refuse-cancel', data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const editPreOrder = createAsyncThunk(\r\n  'order/edit-preorder',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/order/edit-preorder', data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const confirmEditPreOrder = createAsyncThunk(\r\n  'order/confirm-edit-preorder',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/order/confirm-edit-preorder', data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const orderSlice = createSlice({\r\n  name: 'order',\r\n  initialState: {\r\n    preOrder: [],\r\n    order: null,\r\n    orderStatus: {\r\n      create: 'idle',\r\n      edit: 'idle',\r\n      getOne: 'idle',\r\n      getAll: 'idle',\r\n      checkout: 'idle',\r\n      cancel: 'idle',\r\n      confirmCancel: 'idle',\r\n      refuseCancel: 'idle',\r\n      editPreOrder: 'idle',\r\n      confirmEditPreOrder: 'idle',\r\n    },\r\n    orderErrors: {\r\n      create: null,\r\n      edit: null,\r\n      getOne: null,\r\n      getAll: null,\r\n      checkout: null,\r\n      cancel: null,\r\n      confirmCancel: null,\r\n      refuseCancel: null,\r\n      editPreOrder: null,\r\n      confirmEditPreOrder: null,\r\n    },\r\n    orders: null,\r\n  },\r\n  reducers: {\r\n    addToOrder: (state, action) => {\r\n      const { name, price, createdAt } = action.payload;\r\n      let itemIndex = state.preOrder.findIndex((item) => item.name === name);\r\n      let newList = [...state.preOrder];\r\n      if (itemIndex === -1) {\r\n        return {\r\n          ...state,\r\n          preOrder: [...state.preOrder, { name, price, quantity: 1, createdAt }],\r\n        };\r\n      } else {\r\n        newList[itemIndex] = {\r\n          ...newList[itemIndex],\r\n          quantity: newList[itemIndex].quantity + 1,\r\n          price: Number(newList[itemIndex].price) + Number(price),\r\n          createdAt,\r\n        };\r\n        return { ...state, preOrder: newList };\r\n      }\r\n    },\r\n    removeFromOrder: (state, action) => {\r\n      const { name, price, createdAt } = action.payload;\r\n      let itemIndex = state.preOrder.findIndex((item) => item.name === name);\r\n      let newList = [...state.preOrder];\r\n      newList[itemIndex] = {\r\n        ...newList[itemIndex],\r\n        quantity: newList[itemIndex].quantity - 1,\r\n        price: Number(newList[itemIndex].price) - Number(price),\r\n        createdAt,\r\n      };\r\n\r\n      if (newList[itemIndex].quantity === 0) newList.splice(itemIndex, 1);\r\n      return { ...state, preOrder: newList };\r\n    },\r\n    addComment: (state, action) => {\r\n      const { name, comment } = action.payload;\r\n      let itemIndex = state.preOrder.findIndex((item) => item.name === name);\r\n      let newList = [...state.preOrder];\r\n      newList[itemIndex] = { ...newList[itemIndex], comment };\r\n      return { ...state, preOrder: newList };\r\n    },\r\n    deletePreOrder: (state) => {\r\n      return { ...state, preOrder: [] };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [createOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, create: 'loading' },\r\n      };\r\n    },\r\n    [createOrder.fulfilled]: (state, action) => {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('restId');\r\n      localStorage.removeItem('tableNumber');\r\n      localStorage.setItem('id', action.payload.id);\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, create: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, create: null },\r\n      };\r\n    },\r\n    [createOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, create: 'failed' },\r\n\r\n        orderErrors: { ...state.orderErrors, create: action.payload },\r\n      };\r\n    },\r\n    [updateOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, edit: 'loading' },\r\n      };\r\n    },\r\n    [updateOrder.fulfilled]: (state, action) => {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('restId');\r\n      localStorage.removeItem('tableNumber');\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, edit: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, edit: null },\r\n      };\r\n    },\r\n    [updateOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, edit: 'failed' },\r\n        orderErrors: { ...state.orderErrors, edit: action.payload },\r\n      };\r\n    },\r\n    [getOrderById.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getOne: 'loading' },\r\n      };\r\n    },\r\n    [getOrderById.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, getOne: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, getOne: null },\r\n      };\r\n    },\r\n    [getOrderById.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getOne: 'failed' },\r\n        orderErrors: { ...state.orderErrors, getOne: action.payload },\r\n      };\r\n    },\r\n    [getAllOrders.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getAll: 'loading' },\r\n      };\r\n    },\r\n    [getAllOrders.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orders: action.payload,\r\n        orderStatus: { ...state.orderStatus, getAll: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, getAll: null },\r\n      };\r\n    },\r\n    [getAllOrders.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getAll: 'failed' },\r\n        orderErrors: { ...state.orderErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [checkoutOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, checkout: 'loading' },\r\n      };\r\n    },\r\n    [checkoutOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, checkout: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, checkout: null },\r\n      };\r\n    },\r\n    [checkoutOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, checkout: 'failed' },\r\n        orderErrors: { ...state.orderErrors, checkout: action.payload },\r\n      };\r\n    },\r\n\r\n    [cancelOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, cancel: 'loading' },\r\n      };\r\n    },\r\n    [cancelOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, cancel: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, cancel: null },\r\n      };\r\n    },\r\n    [cancelOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, cancel: 'failed' },\r\n        orderErrors: { ...state.orderErrors, cancel: action.payload },\r\n      };\r\n    },\r\n\r\n    [confirmCancelOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, confirmCancel: 'loading' },\r\n      };\r\n    },\r\n    [confirmCancelOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, confirmCancel: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, confirmCancel: null },\r\n      };\r\n    },\r\n    [confirmCancelOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, confirmCancel: 'failed' },\r\n        orderErrors: { ...state.orderErrors, confirmCancel: action.payload },\r\n      };\r\n    },\r\n\r\n    [refuseCancelOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, refuseCancel: 'loading' },\r\n      };\r\n    },\r\n    [refuseCancelOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, refuseCancel: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, refuseCancel: null },\r\n      };\r\n    },\r\n    [refuseCancelOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, refuseCancel: 'failed' },\r\n        orderErrors: { ...state.orderErrors, refuseCancel: action.payload },\r\n      };\r\n    },\r\n\r\n    [editPreOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, editPreOrder: 'loading' },\r\n      };\r\n    },\r\n    [editPreOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, editPreOrder: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, editPreOrder: null },\r\n      };\r\n    },\r\n    [editPreOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, editPreOrder: 'failed' },\r\n        orderErrors: { ...state.orderErrors, editPreOrder: action.payload },\r\n      };\r\n    },\r\n\r\n    [confirmEditPreOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, confirmEditPreOrder: 'loading' },\r\n      };\r\n    },\r\n    [confirmEditPreOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, confirmEditPreOrder: 'succeded' },\r\n        orderErrors: { ...state.orderErrors, confirmEditPreOrder: null },\r\n      };\r\n    },\r\n    [confirmEditPreOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, confirmEditPreOrder: 'failed' },\r\n        orderErrors: {\r\n          ...state.orderErrors,\r\n          confirmEditPreOrder: action.payload,\r\n        },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addToOrder,\r\n  removeFromOrder,\r\n  addComment,\r\n  deletePreOrder,\r\n} = orderSlice.actions;\r\nexport default orderSlice.reducer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport openSocket from 'socket.io-client';\r\n\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport { getAllOrders } from '../../features/orderSlice';\r\n\r\nimport './OrderList.css';\r\n\r\nimport 'moment/locale/fr';\r\nmoment.locale('fr');\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst OrderList = () => {\r\n  const [paid, setPaid] = useState(false);\r\n  const [filterDate, setFilterDate] = useState({\r\n    today: moment().format(),\r\n    filterByDate: false,\r\n  });\r\n  const { today, filterByDate } = filterDate;\r\n  const location = useLocation();\r\n  const { restId } = location.state;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    if (restId) {\r\n      socket.emit('joinRoom', { restId: restId });\r\n      console.log('restid', restId);\r\n    }\r\n\r\n    socket.on('message', (data) => {\r\n      console.log('new order------------', data);\r\n\r\n      dispatch(getAllOrders(restId));\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n  useEffect(() => {\r\n    dispatch(getAllOrders(restId));\r\n  }, []);\r\n  const { orders, orderStatus } = useSelector((state) => state.order);\r\n  const handleFilter = (filterBy) => {\r\n    setPaid(filterBy);\r\n  };\r\n  const handleDate = () => {\r\n    setFilterDate({ ...filterDate, filterByDate: !filterByDate });\r\n  };\r\n\r\n  return (\r\n    <div className='orders'>\r\n      <h2>Liste des commandes</h2>\r\n      <div className='orders__buttons'>\r\n        <button\r\n          className={!paid ? 'orders__buttons--active' : 'orders__buttons--normal'}\r\n          onClick={() => handleFilter(false)}>\r\n          Non Pay\r\n        </button>\r\n        <button\r\n          className={paid ? 'orders__buttons--active' : 'orders__buttons--normal'}\r\n          onClick={() => handleFilter(true)}>\r\n          Pay\r\n        </button>\r\n        <button\r\n          className={filterByDate ? 'orders__buttons--active' : 'orders__buttons--normal'}\r\n          onClick={handleDate}>\r\n          Cmdes de jour\r\n        </button>\r\n      </div>\r\n\r\n      {orderStatus.getAll === 'loading' ? (\r\n        <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : orderStatus.getAll === 'succeded' ? (\r\n        orders &&\r\n        orders\r\n          .filter(\r\n            (order) =>\r\n              order.paid === paid &&\r\n              (filterByDate\r\n                ? moment(order.createdAt).isSame(today, 'day')\r\n                : moment(order.createdAt).isBefore(today, 'day'))\r\n          )\r\n          .slice(0)\r\n          .reverse()\r\n          .map((order) => (\r\n            <div className='orders__items' key={order._id}>\r\n              <p>Table {order.tableNumber}</p>\r\n              {order.items\r\n                .slice(0)\r\n                .reverse()\r\n                .map((item) => (\r\n                  <div className='orders__items__single' key={item._id}>\r\n                    <div className='orders__items__info'>\r\n                      <p>{item.name}</p>\r\n                      <p>{item.quantity}</p>\r\n                      <p className='order__comment'>{item.comment}</p>\r\n                    </div>\r\n                    <p className='orders__items__time'>\r\n                      {moment(item.createdAt).fromNow()}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              <p>Total : {order.total}</p>\r\n            </div>\r\n          ))\r\n      ) : (\r\n        <h4>un problme est survenu..Veuillez ressayer SVP</h4>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderList;\r\n","import React, { useState } from \"react\";\r\nimport \"./ItemsMenu.css\";\r\nimport { deleteItemMenu, editItemMenu } from \"../../features/menuSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { generateBase64FromImage } from \"../../utils/image\";\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { RiEdit2Fill } from \"react-icons/ri\";\r\n\r\nconst ItemsMenu = ({ item }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    description: \"\",\r\n    image: \"\",\r\n    preview: \"\",\r\n    edit: false,\r\n  });\r\n  const { name, price, description, edit, image, preview } = values;\r\n  const { menu, menuStatus, menuErrors } = useSelector((state) => state.menu);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClick = (id) => {\r\n    dispatch(deleteItemMenu({ idMenu: menu.menu._id, id }));\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    if (!edit) {\r\n      setValues({\r\n        name: item.name,\r\n        price: item.price,\r\n        description: item.description,\r\n        edit: true,\r\n      });\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append(\"name\", name);\r\n      formData.append(\"description\", description);\r\n      formData.append(\"price\", price);\r\n      formData.append(\"image\", image);\r\n      formData.append(\"idMenu\", menu.menu._id);\r\n      formData.append(\"idItem\", item._id);\r\n      formData.append(\"lastImg\", item.image);\r\n\r\n      dispatch(editItemMenu(formData));\r\n    }\r\n  };\r\n  const handleFile = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, image: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleData = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-item\">\r\n      <div className=\"menu-item__edit-group\">\r\n        <h5>NOM : </h5>\r\n        <span>\r\n          {edit &&\r\n            menuStatus.edit === \"failed\" &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"name\")[0] &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"name\")[0].msg}\r\n        </span>\r\n        {edit ? (\r\n          <input type=\"text\" value={name} name=\"name\" onChange={handleData} />\r\n        ) : (\r\n          <p>{item.name}</p>\r\n        )}\r\n      </div>\r\n      <div className=\"menu-item__edit-group\">\r\n        <h5>prix : </h5>\r\n        <span>\r\n          {edit &&\r\n            menuStatus.edit === \"failed\" &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"price\")[0] &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"price\")[0].msg}\r\n        </span>\r\n        {edit ? (\r\n          <input type=\"text\" value={price} name=\"price\" onChange={handleData} />\r\n        ) : (\r\n          <p>{item.price}</p>\r\n        )}\r\n      </div>\r\n      <div className=\"menu-item__edit-group\">\r\n        <h5>description:</h5>\r\n        <span>\r\n          {edit &&\r\n            menuStatus.edit === \"failed\" &&\r\n            menuErrors.edit.data.filter(\r\n              (err) => err.param === \"description\"\r\n            )[0] &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"description\")[0]\r\n              .msg}\r\n        </span>\r\n        {edit ? (\r\n          <input\r\n            type=\"text\"\r\n            value={description}\r\n            name=\"description\"\r\n            onChange={handleData}\r\n          />\r\n        ) : (\r\n          <p>{item.description}</p>\r\n        )}\r\n      </div>\r\n\r\n      {edit ? (\r\n        <input\r\n          className=\"input-file\"\r\n          type=\"file\"\r\n          name=\"image\"\r\n          onChange={handleFile}\r\n        />\r\n      ) : (\r\n        <img src={\"/\" + item.image} alt=\"food\" />\r\n      )}\r\n      {preview && <img src={preview} alt=\"plat\" />}\r\n      <div className=\"menu-item__buttons\">\r\n        <div>\r\n          <button className=\"icon_bouton\" onClick={() => handleClick(item._id)}>\r\n            <IconContext.Provider value={{ className: \"icon__Food\" }}>\r\n              <div>\r\n                <MdDelete />\r\n              </div>\r\n            </IconContext.Provider>\r\n            Supprimer\r\n          </button>\r\n        </div>\r\n\r\n        <div>\r\n          <button className=\"icon_bouton\" onClick={() => handleEdit(item._id)}>\r\n            <IconContext.Provider value={{ className: \"icon__Food\" }}>\r\n              <div>\r\n                <RiEdit2Fill />\r\n              </div>\r\n            </IconContext.Provider>\r\n            Modifier\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemsMenu;\r\n","import React from \"react\";\r\n\r\nimport ItemsMenu from \"../../Components/ItemsMenu/ItemsMenu\";\r\nimport \"./Menu.css\";\r\n\r\nconst Menu = ({ menu }) => {\r\n  return (\r\n    <div className=\"menu\">\r\n      <p className=\"menu__cat\">Entre</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"entree\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n\r\n      <p className=\"menu__cat\">Plat</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"plat\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n\r\n      <p className=\"menu__cat\">Boisson</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"boisson\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n\r\n      <p className=\"menu__cat\">Dessert</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"Dessert\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useEffect } from 'react';\r\nimport AddMenu from '../../Components/AddMenu/AddMenu';\r\nimport Menu from '../Menu/Menu';\r\nimport { getMenuByRest } from '../../features/menuSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport openSocket from 'socket.io-client';\r\n\r\nimport './MyRestaurant.css';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst MyRestaurant = () => {\r\n  const location = useLocation();\r\n  const { restId, logo } = location.state;\r\n  const dispatch = useDispatch();\r\n  const { menu, menuStatus, menuErrors } = useSelector((state) => state.menu);\r\n  useEffect(() => {\r\n    dispatch(getMenuByRest(restId));\r\n  }, [restId]);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n      socket.emit('joinRoom', { restId });\r\n    });\r\n    socket.on('newMenu', (data) => {\r\n      dispatch(getMenuByRest(restId));\r\n    });\r\n\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, [restId]);\r\n  return (\r\n    <div className='my-rest'>\r\n      <AddMenu />\r\n      {menuStatus.getMenu === 'loading' ? (\r\n        <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : menuStatus.getMenu === 'failed' ? (\r\n        <h4>une erreur est survenue , veuillez rsayer SVP</h4>\r\n      ) : menuStatus.getMenu === 'succeded' && menu.menu.items.length > 0 ? (\r\n        <Menu menu={menu} logo={logo} />\r\n      ) : (\r\n        <h5>aucun menu n'est enregistr pour ce restaurant</h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyRestaurant;\r\n","import React, { useEffect, useState } from 'react';\r\nimport openSocket from 'socket.io-client';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getRestList } from '../../features/ownerSlice';\r\nimport AddRestaurant from '../../Components/AddRestaurant/AddRestaurant';\r\nimport RestaurantList from '../../Components/RestaurantList/RestaurantList';\r\nimport AddMenu from '../../Components/AddMenu/AddMenu';\r\nimport TableList from '../../Components/TableList/TableList';\r\nimport StaffList from '../../Components/StaffList/StaffList';\r\nimport OrderList from '../../Components/OrderList/OrderList';\r\n\r\nimport Menu from '../Menu/Menu';\r\nimport './OwnerSection.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport MyRestaurant from '../MyRestaurant/MyRestaurant';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst OwnerSection = () => {\r\n  const [channel, setChannel] = useState(null);\r\n  const { isAuthenticated } = useSelector((state) => state.auth);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      dispatch(getRestList());\r\n    }\r\n  }, [isAuthenticated]);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/owner-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    setChannel(socket);\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    socket.on('restaurants', (data) => {\r\n      console.log('from server', data.action);\r\n      dispatch(getRestList());\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n\r\n  const { restList } = useSelector((state) => state.owner);\r\n  return (\r\n    <div className='owner'>\r\n      <Switch>\r\n        <Route exact path='/owner-section'>\r\n          <AddRestaurant />\r\n          <RestaurantList restaurants={restList} />\r\n        </Route>\r\n        <Route exact path='/owner-section/menu'>\r\n          <AddMenu />\r\n        </Route>\r\n        <Route exact path='/owner-section/rest-menu'>\r\n          <Menu />\r\n        </Route>\r\n        <Route exact path='/owner-section/my-rest'>\r\n          <MyRestaurant />\r\n        </Route>\r\n        <Route exact path='/owner-section/tables'>\r\n          <TableList channel={channel} />\r\n        </Route>\r\n        <Route exact path='/owner-section/staff'>\r\n          <StaffList channel={channel} />\r\n        </Route>\r\n        <Route exact path='/owner-section/orders'>\r\n          <OrderList />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerSection;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport openSocket from 'socket.io-client';\r\nimport moment from 'moment';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport './WorkerSection.css';\r\n\r\nimport {\r\n  getAllOrders,\r\n  checkoutOrder,\r\n  confirmCancelOrder,\r\n  refuseCancelOrder,\r\n  confirmEditPreOrder,\r\n} from '../../features/orderSlice';\r\nimport { getTables } from '../../features/tableSlice';\r\n\r\nimport 'moment/locale/fr';\r\nmoment.locale('fr');\r\n\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst WorkerSection = () => {\r\n  const [filterBy, setFilterBy] = useState('');\r\n  const { user, isAuthenticated } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    if (user) {\r\n      socket.emit('joinRoom', { restId: user.restaurantId });\r\n      console.log('restid', user.restaurantId);\r\n    }\r\n    socket.on('message', (data) => {\r\n      console.log('new order------------', data);\r\n      dispatch(getAllOrders(user.restaurantId));\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, [user]);\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      dispatch(getTables(user.restaurantId));\r\n      dispatch(getAllOrders(user.restaurantId));\r\n    }\r\n  }, [isAuthenticated]);\r\n  const { listTable, tableStatus } = useSelector((state) => state.table);\r\n  useEffect(() => {\r\n    if (listTable && listTable.length > 0) setFilterBy(listTable[0].tableNumber);\r\n  }, [listTable]);\r\n  const { orders, orderStatus } = useSelector((state) => state.order);\r\n\r\n  const handleChange = (e) => {\r\n    setFilterBy(e.target.value);\r\n  };\r\n  const handleClick = async (id) => {\r\n    await dispatch(checkoutOrder({ orderId: id }));\r\n    await dispatch(getAllOrders(user.restaurantId));\r\n  };\r\n  const handleConfirm = (itemId, orderId) => {\r\n    dispatch(confirmCancelOrder({ itemId, orderId }));\r\n  };\r\n  const handleConfirmEdit = (itemId, orderId) => {\r\n    dispatch(confirmEditPreOrder({ itemId, orderId }));\r\n  };\r\n  const handleRefuse = (itemId, orderId) => {\r\n    dispatch(refuseCancelOrder({ itemId, orderId }));\r\n  };\r\n  const requestsInfo = (order, item) =>\r\n    user.role === 'kitchen' && (\r\n      <div className='req__info'>\r\n        {!item.confirmed && (\r\n          <div className='req__info__block'>\r\n            <p className='req__dmd'>\r\n              demande\r\n              {order.preOrder.filter((el) => el.itemId === item._id)[0]\r\n                .requestedAction === 'cancel' ? (\r\n                <span> d'annulation </span>\r\n              ) : (\r\n                <p>\r\n                  de modification du quantit\r\n                  <span>\r\n                    (nouvelle quantit :\r\n                    {order.preOrder.length > 0 &&\r\n                      order.preOrder.filter((el) => el.itemId === item._id)[0]\r\n                        .newQuantity}\r\n                    )\r\n                  </span>\r\n                </p>\r\n              )}\r\n            </p>\r\n            <div className='butt__response'>\r\n              {order.preOrder.filter((el) => el.itemId === item._id)[0]\r\n                .requestedAction === 'cancel' && (\r\n                <button\r\n                  className='button__req__valid'\r\n                  onClick={() => handleConfirm(item._id, order._id)}>\r\n                  valider\r\n                </button>\r\n              )}\r\n\r\n              {order.preOrder.filter((el) => el.itemId === item._id)[0]\r\n                .requestedAction === 'edit' && (\r\n                <button\r\n                  className='button__req__valid'\r\n                  onClick={() => handleConfirmEdit(item._id, order._id)}>\r\n                  confirmer\r\n                </button>\r\n              )}\r\n              <button\r\n                className='button__req__reject'\r\n                onClick={() => handleRefuse(item._id, order._id)}>\r\n                refuser\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  return (\r\n    <div className='worker'>\r\n      <h2>Liste des commandes</h2>\r\n      <div className='worker__tables'>\r\n        <p> Selectionnez une table </p>\r\n        {tableStatus.getAll === 'loading' ? (\r\n          <IconContext.Provider value={{ className: 'spinner' }}>\r\n            <div>\r\n              <ImSpinner9 />\r\n            </div>\r\n          </IconContext.Provider>\r\n        ) : tableStatus.getAll === 'succeded' ? (\r\n          <select name='filterBy' onChange={handleChange}>\r\n            {listTable && listTable.length > 0 ? (\r\n              listTable.map((tab, i) => (\r\n                <option key={tab._id} defaultValue value={tab.tableNumber}>\r\n                  table {tab.tableNumber}\r\n                </option>\r\n              ))\r\n            ) : (\r\n              <option>pas de table</option>\r\n            )}\r\n          </select>\r\n        ) : (\r\n          <h5>un problme est survenue .. veuillez ressayer </h5>\r\n        )}\r\n      </div>\r\n      <div className='worker__content'>\r\n        {orderStatus.getAll === 'loading' ? (\r\n          <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n            <div>\r\n              <ImSpinner9 />\r\n            </div>\r\n          </IconContext.Provider>\r\n        ) : orderStatus.getAll === 'succeded' ? (\r\n          orders &&\r\n          orders\r\n            .filter((order) => {\r\n              if (!order.paid && order.tableNumber === Number(filterBy)) return order;\r\n            })\r\n            .slice(0)\r\n            .reverse()\r\n            .map((order) => {\r\n              return (\r\n                <div className='worker__orders' key={order._id}>\r\n                  {order.items\r\n                    .slice(0)\r\n                    .reverse()\r\n                    .map((item) => (\r\n                      <div className='worker__orders__items' key={item._id}>\r\n                        <div className='worker__orders__items__info'>\r\n                          <div className='req__info'>\r\n                            <p>{item.name}</p>\r\n                            <p> quantit :{item.quantity}</p>\r\n                            {/* {order.preOrder.filter(\r\n                              (el) => el.itemId === item._id\r\n                            )[0].newQuantity && ( */}\r\n                          </div>\r\n                          {requestsInfo(order, item)}\r\n                          {user.role === 'kitchen' && item.comment && (\r\n                            <p className='comment'>\r\n                              <span>preferences: </span>\r\n                              {item.comment}\r\n                            </p>\r\n                          )}\r\n\r\n                          <span className='timeline'>\r\n                            {moment(item.createdAt).fromNow()}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  <p>Total : {order.total}</p>\r\n                  {user.role === 'server' && Number(order.total) > 0 && (\r\n                    <button className='butt-pay' onClick={() => handleClick(order._id)}>\r\n                      Confirmer le paiement\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              );\r\n            })\r\n        ) : (\r\n          <h5>un problme est survenu..</h5>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkerSection;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  addToOrder,\r\n  removeFromOrder,\r\n  addComment,\r\n} from \"../../features/orderSlice\";\r\nimport \"./ClientMenuItem.css\";\r\nimport moment from \"moment\";\r\n\r\nconst ClientMenuItem = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n  const { preOrder } = useSelector((state) => state.order);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [food, setFood] = useState({\r\n    price: 0,\r\n    quantity: 0,\r\n    comment: \"\",\r\n  });\r\n  const { price, quantity, comment } = food;\r\n  useEffect(() => {\r\n    let orderItem = preOrder.filter((food) => food.name === item.name)[0];\r\n    if (orderItem)\r\n      setFood({\r\n        price: orderItem.price,\r\n        quantity: orderItem.quantity,\r\n        comment: orderItem.comment,\r\n      });\r\n  }, []);\r\n  const handleAdd = (itemPrice) => {\r\n    setFood({\r\n      ...food,\r\n      quantity: Number(quantity) + 1,\r\n      price: Number(price) + Number(itemPrice),\r\n    });\r\n  };\r\n  const handleComment = (e) => {\r\n    setFood({ ...food, comment: e.target.value });\r\n  };\r\n  const handleShow = () => {\r\n    if (showInput) dispatch(addComment({ name: item.name, comment }));\r\n    setShowInput(!showInput);\r\n  };\r\n  const handleRemove = (itemPrice) => {\r\n    if (quantity > 0)\r\n      setFood({\r\n        ...food,\r\n        quantity: Number(quantity) - 1,\r\n        price: Number(price) - Number(itemPrice),\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"client-menu-item\">\r\n      <div className=\"client-menu-item__group\">\r\n        <div className=\"client-menu-item__info\">\r\n          <p>{item.name}</p>\r\n          <p>{item.price} dt</p>\r\n        </div>\r\n        <img src={item.image} alt=\"food\" />\r\n      </div>\r\n      <p className=\"client-menu-item__desc\">{item.description}</p>\r\n      <div className=\"client-menu-item__footer\">\r\n        <span className=\"client-menu-item__price\">\r\n          Total: {price > 0 ? price : 0} DT\r\n        </span>\r\n        <div className=\"client-menu-item__buttons\">\r\n          <button\r\n            className=\"client-menu-item__button\"\r\n            onClick={() => {\r\n              if (quantity > 0) {\r\n                handleRemove(item.price);\r\n                let createdAt = moment().format();\r\n                dispatch(\r\n                  removeFromOrder({\r\n                    name: item.name,\r\n                    price: item.price,\r\n                    createdAt,\r\n                  })\r\n                );\r\n              }\r\n            }}\r\n          >\r\n            -\r\n          </button>\r\n          <span>{quantity}</span>\r\n          <button\r\n            className=\"client-menu-item__button\"\r\n            onClick={() => {\r\n              handleAdd(item.price);\r\n              let createdAt = moment().format();\r\n              dispatch(\r\n                addToOrder({\r\n                  name: item.name,\r\n                  price: item.price,\r\n                  comment,\r\n                  createdAt,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"client-menu-item__comment\">\r\n        {quantity > 0 ? (\r\n          <button className=\"comment__button\" onClick={handleShow}>\r\n            ajouter un commentaire\r\n          </button>\r\n        ) : (\r\n          <button className=\"comment__button\" onClick={handleShow} disabled>\r\n            ajouter un commentaire\r\n          </button>\r\n        )}\r\n\r\n        {showInput && quantity > 0 && (\r\n          <textarea value={comment} onChange={handleComment} rows=\"3\" cols=\"20\">\r\n            commentaire..\r\n          </textarea>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientMenuItem;\r\n","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport {\r\n  createOrder,\r\n  updateOrder,\r\n  getOrderById,\r\n  deletePreOrder,\r\n} from \"../../features/orderSlice\";\r\nimport ClientMenuItem from \"../../Components/ClientMenuItem/ClientMenuItem\";\r\nimport \"./ClientMenu.css\";\r\n\r\nconst ClientMenu = ({ menu }) => {\r\n  const [values, setValues] = useState({\r\n    orderId: null,\r\n    items: [],\r\n    total: 0,\r\n    numberOfItems: 0,\r\n    categorie: \"entree\",\r\n  });\r\n  const { items, total, categorie, numberOfItems } = values;\r\n  const dispatch = useDispatch();\r\n  const { preOrder, order, orderStatus } = useSelector((state) => state.order);\r\n  useEffect(() => {\r\n    dispatch(deletePreOrder());\r\n    return () => {\r\n      dispatch(deletePreOrder());\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    setValues({ ...values, items: preOrder });\r\n  }, [preOrder]);\r\n  useEffect(() => {\r\n    const id = localStorage.getItem(\"id\");\r\n    if (id) {\r\n      dispatch(getOrderById(id));\r\n      setValues({ ...values, orderId: id });\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    if (items.length > 0) {\r\n      let totalCost = items.reduce(\r\n        (acc, curv) => Number(acc) + Number(curv.price),\r\n        0\r\n      );\r\n      let totalNumber = items.reduce(\r\n        (acc, curv) => Number(acc) + Number(curv.quantity),\r\n        0\r\n      );\r\n\r\n      setValues({ ...values, total: totalCost, numberOfItems: totalNumber });\r\n    } else {\r\n      setValues({ ...values, total: 0, numberOfItems: 0 });\r\n    }\r\n  }, [items]);\r\n\r\n  const history = useHistory();\r\n  const restId = localStorage.getItem(\"restId\");\r\n  const tableNumber = localStorage.getItem(\"tableNumber\");\r\n\r\n  const handleButton = () => {\r\n    const orderId = localStorage.getItem(\"id\");\r\n    if (items.length > 0) {\r\n      if (orderId && order && !order.order.paid) {\r\n        dispatch(updateOrder({ data: { items, total, orderId }, history }));\r\n      } else {\r\n        dispatch(\r\n          createOrder({ data: { items, total, restId, tableNumber }, history })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const orderLink = order && !order.order.paid && (\r\n    <Link\r\n      to={{\r\n        pathname: \"/client-page/order\",\r\n\r\n        state: { orderId: order.order._id },\r\n      }}\r\n    >\r\n      <span className=\"client-menu__link\">Mes choix</span>\r\n    </Link>\r\n  );\r\n  const menuItems =\r\n    menu && menu.menu.items ? (\r\n      <Fragment>\r\n        {menu.menu.items.filter((item) => item.categorie === categorie).length >\r\n          0 && (\r\n          <Fragment>\r\n            <p className=\"client-menu__categorie\">{categorie}</p>\r\n            <div className=\"client-menu__sub\">\r\n              {menu.menu.items\r\n                .filter((item) => item.categorie === categorie)\r\n                .map((item) => (\r\n                  <ClientMenuItem key={item._id} item={item} />\r\n                ))}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </Fragment>\r\n    ) : (\r\n      <h5>Loading...</h5>\r\n    );\r\n  const handleChoice = (choice) => {\r\n    setValues({ ...values, categorie: choice });\r\n  };\r\n  return (\r\n    <div className=\"client-menu\">\r\n      <div className=\"client-menu__menu\">\r\n        <button\r\n          className={\r\n            categorie === \"entree\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"entree\")}\r\n        >\r\n          entre\r\n        </button>\r\n        <button\r\n          className={\r\n            categorie === \"plat\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"plat\")}\r\n        >\r\n          plat\r\n        </button>\r\n        <button\r\n          className={\r\n            categorie === \"boisson\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"boisson\")}\r\n        >\r\n          boisson\r\n        </button>\r\n        <button\r\n          className={\r\n            categorie === \"Dessert\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"Dessert\")}\r\n        >\r\n          dessert\r\n        </button>\r\n      </div>\r\n      <div className=\"client-menu__items\">{menuItems}</div>\r\n      <div className=\"client-menu__nav\">\r\n        {orderLink}\r\n        <p className=\"client-menu__total\">\r\n          <span style={{ color: \"white\" }}>{total} DT</span>\r\n          <span style={{ color: \"white\" }}>({numberOfItems} lements)</span>\r\n        </p>\r\n        <button onClick={() => handleButton()}>Commander</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientMenu;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation, Link, useHistory } from 'react-router-dom';\r\nimport { IconContext } from 'react-icons';\r\nimport { RiDeleteBin5Fill } from 'react-icons/ri';\r\nimport { CgEditExposure } from 'react-icons/cg';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { HiOutlineMinusCircle, HiOutlinePlusCircle } from 'react-icons/hi';\r\n\r\nimport { getOrderById, cancelOrder, editPreOrder } from '../../features/orderSlice';\r\nimport './MyOrder.css';\r\n\r\nconst MyOrder = ({ channel }) => {\r\n  const [editFields, setEditFields] = useState({\r\n    editStatus: { toEdit: false, itemId: null, unitPrice: 0 },\r\n    editOrder: null,\r\n    oldQuantity: 0,\r\n  });\r\n  const { editStatus, editOrder, oldQuantity } = editFields;\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const { orderId } = location.state;\r\n  useEffect(() => {\r\n    dispatch(getOrderById(orderId));\r\n  }, [orderId]);\r\n  useEffect(() => {\r\n    if (channel) {\r\n      channel.on('message', (data) => {\r\n        dispatch(getOrderById(orderId));\r\n      });\r\n      channel.on('checkout', (data) => {\r\n        history.push('/client-page');\r\n      });\r\n    }\r\n  }, [channel]);\r\n\r\n  const { order, orderStatus } = useSelector((state) => state.order);\r\n  useEffect(() => {\r\n    order.order.items && setEditFields({ ...editFields, editOrder: order.order.items });\r\n  }, [order]);\r\n  const handleCancel = (itemId) => {\r\n    dispatch(cancelOrder({ itemId, orderId }));\r\n  };\r\n  const handleEdit = (item) => {\r\n    if (editStatus.toEdit) {\r\n      const itemToEdit = editOrder.filter((el) => el._id === item._id)[0];\r\n\r\n      const newValues = {\r\n        newQuantity: itemToEdit.quantity,\r\n        newPrice: itemToEdit.price,\r\n        newComment: '',\r\n      };\r\n\r\n      if (Number(oldQuantity) !== Number(itemToEdit.quantity)) {\r\n        dispatch(editPreOrder({ itemId: editStatus.itemId, orderId, newValues }));\r\n      }\r\n      setEditFields({\r\n        ...editFields,\r\n        editStatus: { toEdit: false, itemId: null },\r\n      });\r\n    } else {\r\n      setEditFields({\r\n        ...editFields,\r\n        oldQuantity: item.quantity,\r\n        editStatus: {\r\n          toEdit: true,\r\n          itemId: item._id,\r\n          unitPrice: Number(item.price) / Number(item.quantity),\r\n        },\r\n      });\r\n    }\r\n  };\r\n  const handleAdd = (id) => {\r\n    let itemIndex = editOrder.findIndex((item) => item._id === id);\r\n    let newList = [...editOrder];\r\n    newList[itemIndex] = {\r\n      ...newList[itemIndex],\r\n      quantity: newList[itemIndex].quantity + 1,\r\n      price: Number(newList[itemIndex].price) + Number(editStatus.unitPrice),\r\n    };\r\n    setEditFields({ ...editFields, editOrder: newList });\r\n  };\r\n  const handleRemove = (id) => {\r\n    let itemIndex = editOrder.findIndex((item) => item._id === id);\r\n    let newList = [...editOrder];\r\n    if (newList[itemIndex].quantity > 1) {\r\n      newList[itemIndex] = {\r\n        ...newList[itemIndex],\r\n        quantity: newList[itemIndex].quantity - 1,\r\n        price: Number(newList[itemIndex].price) - Number(editStatus.unitPrice),\r\n      };\r\n      setEditFields({ ...editFields, editOrder: newList });\r\n    }\r\n  };\r\n\r\n  const requestResult = (item) => {\r\n    const preOrder = order.order.preOrder;\r\n    if (preOrder.length > 0 && preOrder.filter((order) => order.itemId === item._id)[0]) {\r\n      if (item.confirmed) {\r\n        if (preOrder.filter((order) => order.itemId === item._id)[0].confirmed)\r\n          return (\r\n            <p className='request__msg--valid'>\r\n              {/* {\r\n                preOrder.filter((order) => order.itemId === item._id)[0]\r\n                  .requestedAction\r\n              } */}\r\n              votre demande est valide\r\n            </p>\r\n          );\r\n        else\r\n          return (\r\n            <p className='request__msg--rejected'>\r\n              {/* {\r\n                preOrder.filter((order) => order.itemId === item._id)[0]\r\n                  .requestedAction\r\n              } */}\r\n              votre demande est rejete\r\n            </p>\r\n          );\r\n      } else {\r\n        orderStatus.cancel === 'rejected' || orderStatus.editPreOrder === 'rejected' ? (\r\n          <p className='request__msg--rejected'>Demande rejete</p>\r\n        ) : (\r\n          <p className='request__msg--waiting'>en attente de confirmation </p>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='order'>\r\n      <h2>A Payer</h2>\r\n      {orderStatus.getOne === 'loading' ? (\r\n        <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : orderStatus.getOne === 'succeded' ? (\r\n        editOrder &&\r\n        editOrder.length > 0 &&\r\n        editOrder.map((item) => (\r\n          <div className='order__item' key={item._id}>\r\n            <div className='order__item__head'>\r\n              <p>{item.name}</p>\r\n              <div className='order__item__info'>\r\n                <p>{item.quantity}</p>\r\n                <p>{item.price} DT</p>\r\n              </div>\r\n            </div>\r\n            <div className='order__item__foot'>\r\n              <span className='order__item__foot__result'>{requestResult(item)}</span>\r\n              <div className='req-buttons'>\r\n                {editStatus.toEdit && item._id === editStatus.itemId && (\r\n                  <Fragment>\r\n                    <button\r\n                      className='order__req__but-quantity'\r\n                      onClick={() => handleAdd(item._id)}>\r\n                      + 1\r\n                    </button>\r\n                    <button\r\n                      className='order__req__but-quantity'\r\n                      onClick={() => handleRemove(item._id)}>\r\n                      - 1\r\n                    </button>\r\n                  </Fragment>\r\n                )}\r\n                <button\r\n                  className='order__req__but order__req__but--green'\r\n                  onClick={() => handleEdit(item)}>\r\n                  modifier\r\n                </button>\r\n                <button\r\n                  className='order__req__but order__req__but--red'\r\n                  onClick={() => handleCancel(item._id)}>\r\n                  annuler\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <h5>un problme est survenu..</h5>\r\n      )}\r\n      <div className='order__item__total'>\r\n        <p>total</p>\r\n        <p>\r\n          {orderStatus.getOne === 'loading' ? (\r\n            <span>loading..</span>\r\n          ) : orderStatus.getOne === 'succeded' ? (\r\n            order && order.order.total\r\n          ) : null}\r\n          <span> DT</span>\r\n        </p>\r\n      </div>\r\n      <div className='client-menu__nav'>\r\n        <Link to='/client-page'>\r\n          <button className='client-menu__nav__back'>retour au menu </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyOrder;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport openSocket from 'socket.io-client';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport ClientMenu from '../../Components/ClientMenu/ClientMenu';\r\nimport MyOrder from '../MyOrder/MyOrder';\r\nimport { getMenuByRest } from '../../features/menuSlice';\r\nimport './ClientPage.css';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst ClientPage = () => {\r\n  const [channel, setChannel] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const restId = localStorage.getItem('restId');\r\n  useEffect(() => {\r\n    dispatch(getMenuByRest(restId));\r\n  }, []);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    setChannel(socket);\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    if (restId) socket.emit('joinRoom', { restId });\r\n    socket.on('newMenu', (data) => {\r\n      console.log('newmenu', data);\r\n      dispatch(getMenuByRest(restId));\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n\r\n  const { menu, menuStatus } = useSelector((state) => state.menu);\r\n  const clientMenu =\r\n    menuStatus.getMenu === 'loading' ? (\r\n      <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n        <div>\r\n          <ImSpinner9 />\r\n        </div>\r\n      </IconContext.Provider>\r\n    ) : menuStatus.getMenu === 'succeded' && menu ? (\r\n      menu.menu.items.length === 0 ? (\r\n        <p> Ce menu n'est pas encore disponible</p>\r\n      ) : (\r\n        <ClientMenu menu={menu} restaurantId={restId} />\r\n      )\r\n    ) : (\r\n      <h5>Something went wrong...</h5>\r\n    );\r\n\r\n  return (\r\n    <div className='client-section'>\r\n      <Switch>\r\n        <Route exact path='/client-page'>\r\n          <div className='client-section__info'>\r\n            <h2>Menu</h2>\r\n            <div className='client-section__info__image'>\r\n              <img src={'/' + (menu && menu.menu.restaurant.logo)} alt='logo' />\r\n            </div>\r\n            <h2>{menu && menu.menu.restaurant.name}</h2>\r\n          </div>\r\n          {clientMenu}\r\n        </Route>\r\n        <Route exact path='/client-page/order'>\r\n          <MyOrder channel={channel} />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientPage;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport setAuthToken from './utils/setAuthToken';\r\nimport PrivateRoute from './Components/PrivateRoute/PrivateRoute';\r\nimport ClientRoute from './Components/PrivateRoute/ClientRoute';\r\nimport Home from './pages/Home/Home';\r\nimport Navbar from './Components/Navbar/Navbar';\r\n\r\nimport SignIn from './pages/SignIn/SignIn';\r\nimport ScanCode from './Components/ScanCode/ScanCode';\r\nimport './App.css';\r\nimport AdminSection from './pages/AdminSection/AdminSection';\r\nimport OwnerSection from './pages/OwnerSection/OwnerSection';\r\nimport WorkerSection from './pages/WorkerSection/WorkerSection';\r\nimport ClientPage from './pages/ClientPage/ClientPage';\r\n\r\nfunction App() {\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n  return (\r\n    <div className='app'>\r\n      <Router>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route exact path='/'>\r\n            <Home />\r\n          </Route>\r\n          <Route exact path='/signin'>\r\n            <SignIn />\r\n          </Route>\r\n          <Route exact path='/scan-code'>\r\n            <ScanCode />\r\n          </Route>\r\n          <ClientRoute path='/client-page'>\r\n            <ClientPage />\r\n          </ClientRoute>\r\n\r\n          <PrivateRoute exact path='/admin-section'>\r\n            <AdminSection />\r\n          </PrivateRoute>\r\n          <PrivateRoute path='/owner-section'>\r\n            <OwnerSection />\r\n          </PrivateRoute>\r\n          <PrivateRoute path='/worker-section'>\r\n            <WorkerSection />\r\n          </PrivateRoute>\r\n          <Redirect to='/' />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authReducer from \"../features/authSlice\";\r\nimport adminReducer from \"../features/adminSlice\";\r\nimport ownerReducer from \"../features/ownerSlice\";\r\nimport menuReducer from \"../features/menuSlice\";\r\nimport tableReducer from \"../features/tableSlice\";\r\nimport orderReducer from \"../features/orderSlice\";\r\nimport staffReducer from \"../features/staffSlice\";\r\nimport contactReducer from \"../features/contactSlice\";\r\nimport adherentReducer from \"../features/adherentSlice.js\";\r\nexport default configureStore({\r\n  reducer: {\r\n    auth: authReducer,\r\n    admin: adminReducer,\r\n    owner: ownerReducer,\r\n    menu: menuReducer,\r\n    table: tableReducer,\r\n    order: orderReducer,\r\n    staff: staffReducer,\r\n    contact: contactReducer,\r\n    adherent: adherentReducer,\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}