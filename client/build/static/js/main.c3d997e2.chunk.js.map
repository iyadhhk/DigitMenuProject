{"version":3,"sources":["utils/setAuthToken.js","Components/PrivateRoute/PrivateRoute.js","Components/PrivateRoute/ClientRoute.js","features/authSlice.js","features/contactSlice.js","Components/ContactUs/ContactUs.js","features/adherentSlice.js","pages/Home/Home.js","utils/scroll.js","Components/Navbar/Navbar.js","pages/SignIn/SignIn.js","Components/ScanCode/ScanCode.js","features/adminSlice.js","Components/AddOwner/AddOwner.js","Components/OwnerList/OwnerList.js","pages/AdminSection/AdminSection.js","features/ownerSlice.js","utils/image.js","Components/AddRestaurant/AddRestaurant.js","Components/RestaurantListItem/RestaurantListIem.js","Components/RestaurantList/RestaurantList.js","features/menuSlice.js","Components/AddMenu/AddMenu.js","features/tableSlice.js","Components/AddTable/AddTable.js","Components/Tables/Tables.js","Components/TableList/TableList.js","features/staffSlice.js","Components/AddWorker/AddWorker.js","Components/Workers/Workers.js","Components/StaffList/StaffList.js","features/orderSlice.js","Components/OrderList/OrderList.js","Components/ItemsMenu/ItemsMenu.js","pages/Menu/Menu.js","pages/MyRestaurant/MyRestaurant.js","pages/OwnerSection/OwnerSection.js","pages/WorkerSection/WorkerSection.js","Components/ClientMenuItem/ClientMenuItem.js","Components/ClientMenu/ClientMenu.js","pages/MyOrder/MyOrder.js","pages/ClientPage/ClientPage.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","PrivateRoute","children","rest","path","useSelector","state","auth","isAuthenticated","authStatus","localStorage","render","authUser","to","isClient","authClient","createAsyncThunk","data","a","rejectWithValue","restId","tableNumber","history","console","log","post","response","setItem","push","login","role","authSlice","createSlice","name","initialState","getItem","authErrors","user","reducers","clearClient","logout","removeItem","initState","extraReducers","pending","action","fulfilled","payload","rejected","actions","contactUs","contactSlice","contactStatus","errors","ContactUs","useState","username","email","message","values","setValues","handleChange","e","target","value","dispatch","useDispatch","contact","useEffect","className","filter","err","param","msg","type","placeholder","onChange","rows","cols","onClick","preventDefault","getRestInfo","get","transformRequest","Authorization","adherentSlice","adherentStatus","adherents","Home","adherent","src","alt","id","Provider","length","map","adher","logo","_id","ScrollComponent","props","activeClass","section","spy","smooth","offset","duration","Navbar","click","setClick","closeMobileMenu","isAuth","handleLog","adminMenu","ownerMenu","homeMenu","clientMenu","workerMenu","navMenu","SignIn","password","useHistory","ScanCode","delay","result","code","split","style","height","width","onError","error","onScan","createOwner","getAllOwners","deleteOwner","put","adminSlice","owner","owners","adminStatus","create","delete","getAll","adminErrors","initErrors","AddOwner","admin","OwnerList","socketURL","window","location","hostname","AdminSection","socket","openSocket","transports","secure","on","createRestaurant","formData","forEach","key","deleteRestaurant","editRestaurant","getRestList","ownerSlice","restList","ownerStatus","edit","getList","ownerErrors","generateBase64FromImage","imageFile","reader","FileReader","promise","Promise","resolve","reject","onload","onerror","readAsDataURL","AddRestaurant","address","preview","file","files","then","b64","catch","FormData","append","RestaurantListIem","image","handleData","handleEdit","pathname","restName","RestaurantList","restaurants","getMenuByRest","res","deleteItemMenu","editItemMenu","addToMenu","menuSlice","menu","menuErrors","getMenu","menuStatus","AddMenu","ref","React","useRef","price","description","categorie","useLocation","emit","disconnect","current","addTable","getTables","deleteTable","tableSlice","tableStatus","tableErrors","table","listTable","AddTable","tableCode","min","restaurant","Tables","tables","componentRef","handlePrint","useReactToPrint","content","pageStyle","codeImg","TableList","channel","createWorker","getAllWorkers","deleteWorker","staffSlice","worker","workers","workerStatus","workerErrors","AddWorker","staff","restaurantId","Workers","list","StaffList","createOrder","updateOrder","getOrderById","getAllOrders","checkoutOrder","orderId","cancelOrder","confirmCancelOrder","refuseCancelOrder","editPreOrder","confirmEditPreOrder","orderSlice","preOrder","order","orderStatus","getOne","checkout","cancel","orderErrors","orders","addToOrder","createdAt","itemIndex","findIndex","item","newList","quantity","Number","removeFromOrder","splice","addComment","comment","deletePreOrder","moment","locale","OrderList","paid","setPaid","today","format","filterByDate","filterDate","setFilterDate","handleFilter","filterBy","isSame","isBefore","slice","reverse","items","fromNow","total","ItemsMenu","idMenu","Menu","MyRestaurant","OwnerSection","setChannel","exact","WorkerSection","setFilterBy","handleClick","tab","i","defaultValue","confirmed","el","itemId","requestedAction","newQuantity","ClientMenuItem","showInput","setShowInput","food","setFood","orderItem","handleShow","itemPrice","disabled","ClientMenu","numberOfItems","totalCost","reduce","acc","curv","totalNumber","orderLink","menuItems","handleChoice","choice","color","handleButton","MyOrder","editStatus","toEdit","unitPrice","editOrder","oldQuantity","editFields","setEditFields","requestResult","handleAdd","handleRemove","itemToEdit","newValues","newPrice","newComment","ClientPage","App","ClientRoute","configureStore","reducer","authReducer","adminReducer","ownerReducer","menuReducer","tableReducer","orderReducer","staffReducer","contactReducer","adherentReducer","Boolean","match","ReactDOM","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c3d997e2.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\nexport default setAuthToken;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nconst PrivateRoute = ({ children, path, ...rest }) => {\r\n  const { isAuthenticated, authStatus } = useSelector((state) => state.auth);\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        !isAuthenticated && authStatus.authUser !== \"loading\" ? (\r\n          <Redirect to=\"/signin\" />\r\n        ) : (\r\n          children\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nconst PrivateRoute = ({ children, path, ...rest }) => {\r\n  const { isClient, authStatus } = useSelector((state) => state.auth);\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        !isClient && authStatus.authClient !== \"loading\" ? (\r\n          <Redirect to=\"/\" />\r\n        ) : (\r\n          children\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const authClient = createAsyncThunk(\r\n  \"auth/auth-client\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const { restId, tableNumber, history } = data;\r\n      console.log(\"restid\", restId);\r\n      console.log(\"restid\", tableNumber);\r\n      console.log(\"history\", history);\r\n      const response = await axios.post(\"/auth/auth-client\", {\r\n        restId,\r\n        tableNumber,\r\n      });\r\n      localStorage.setItem(\"restId\", restId);\r\n      localStorage.setItem(\"tableNumber\", tableNumber);\r\n      history.push(\"/client-page\");\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const login = createAsyncThunk(\r\n  \"auth/login\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\"/auth/login\", data);\r\n      if (response.data.role === \"admin\") {\r\n        data.history.push(\"/admin-section\");\r\n      } else if (response.data.role === \"owner\") {\r\n        data.history.push(\"/owner-section\");\r\n      } else if (response.data.role === \"worker\") {\r\n        data.history.push(\"/worker-section\");\r\n      } else {\r\n        data.history.push(\"/\");\r\n      }\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: {\r\n    token: localStorage.getItem(\"token\"),\r\n    isAuthenticated: false,\r\n    isClient: false,\r\n    authStatus: { authClient: \"idle\", authUser: \"idle\" },\r\n    authErrors: { authClient: null, authUser: null },\r\n    user: null,\r\n  },\r\n  reducers: {\r\n    clearClient(state) {\r\n      return { ...state, isClient: false };\r\n    },\r\n    logout(state) {\r\n      localStorage.removeItem(\"token\");\r\n      return { ...state, token: null, isAuthenticated: false, user: null };\r\n    },\r\n    initState(state) {\r\n      localStorage.removeItem(\"token\");\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        isClient: false,\r\n        authStatus: { authClient: \"idle\", authUser: \"idle\" },\r\n        authErrors: { authClient: null, authUser: null },\r\n        user: null,\r\n      };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [login.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authUser: \"loading\" },\r\n      };\r\n    },\r\n    [login.fulfilled]: (state, action) => {\r\n      localStorage.setItem(\"token\", action.payload.token);\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authUser: \"succeded\" },\r\n        authErrors: { ...state.authErrors, authUser: null },\r\n\r\n        isAuthenticated: true,\r\n        user: action.payload,\r\n      };\r\n    },\r\n    [login.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authUser: \"failed\" },\r\n        authErrors: { ...state.authErrors, authUser: action.payload },\r\n      };\r\n    },\r\n    [authClient.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        authStatus: { ...state.authStatus, authClient: \"loading\" },\r\n      };\r\n    },\r\n    [authClient.fulfilled]: (state, action) => {\r\n      localStorage.setItem(\"token\", action.payload.token);\r\n      return {\r\n        ...state,\r\n\r\n        authStatus: { ...state.authStatus, authClient: \"succeded\" },\r\n        authErrors: { ...state.authErrors, authClient: action.payload },\r\n        isClient: true,\r\n      };\r\n    },\r\n    [authClient.rejected]: (state, action) => ({\r\n      ...state,\r\n      authStatus: { ...state.authStatus, authClient: \"failed\" },\r\n      authErrors: { ...state.authErrors, authClient: action.payload },\r\n    }),\r\n  },\r\n});\r\n\r\nexport const { logout, initState, clearClient } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const contactUs = createAsyncThunk(\r\n  \"contact/sendEmail\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\"/contact/sendEmail\", data);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const contactSlice = createSlice({\r\n  name: \"contact\",\r\n  initialState: {\r\n    contactStatus: \"idle\",\r\n\r\n    errors: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [contactUs.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        contactStatus: \"loading\",\r\n      };\r\n    },\r\n    [contactUs.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        contactStatus: \"succeded\",\r\n        errors: null,\r\n      };\r\n    },\r\n    [contactUs.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        contactStatus: \"failed\",\r\n        errors: action.payload,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default contactSlice.reducer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { contactUs } from \"../../features/contactSlice\";\r\nimport \"./ContactUs.css\";\r\n\r\nconst ContactUs = () => {\r\n  const [values, setValues] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    message: \"\",\r\n  });\r\n  const { username, email, message } = values;\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const dispatch = useDispatch();\r\n  const { contactStatus, errors } = useSelector((state) => state.contact);\r\n  useEffect(() => {\r\n    if (contactStatus === \"succeded\")\r\n      setValues({ username: \"\", email: \"\", message: \"\" });\r\n  }, [contactStatus]);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(contactUs({ username, email, message }));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"contact__Form\">\r\n        <span>\r\n          {contactStatus === \"failed\" &&\r\n            errors.data.filter((err) => err.param === \"username\")[0] &&\r\n            errors.data.filter((err) => err.param === \"username\")[0].msg}\r\n        </span>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={username}\r\n          placeholder=\" nom\"\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <span>\r\n          {contactStatus === \"failed\" &&\r\n            errors.data.filter((err) => err.param === \"email\")[0] &&\r\n            errors.data.filter((err) => err.param === \"email\")[0].msg}\r\n        </span>\r\n\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={email}\r\n          placeholder=\" email\"\r\n          onChange={handleChange}\r\n        />\r\n        <span>\r\n          {contactStatus === \"failed\" &&\r\n            errors.data.filter((err) => err.param === \"message\")[0] &&\r\n            errors.data.filter((err) => err.param === \"message\")[0].msg}\r\n        </span>\r\n        <textarea\r\n          rows=\"8\"\r\n          cols=\"20\"\r\n          value={message}\r\n          placeholder=\"message\"\r\n          name=\"message\"\r\n          onChange={handleChange}\r\n        ></textarea>\r\n\r\n        <h5\r\n          className={\r\n            contactStatus === \"succeded\" ? \"msg__sented\" : \"msg__sented__hidden\"\r\n          }\r\n        >\r\n          votre message a été envoyé avec succes{\" \"}\r\n        </h5>\r\n        <button className=\"Butt__send\" type=\"submit\" onClick={handleSubmit}>\r\n          envoyer\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactUs;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nexport const getRestInfo = createAsyncThunk(\r\n  \"adherent/adherent\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"/adherent/adherent\", {\r\n        transformRequest: [\r\n          (data, headers) => {\r\n            delete headers.common.Authorization;\r\n\r\n            return data;\r\n          },\r\n        ],\r\n      });\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const adherentSlice = createSlice({\r\n  name: \"adherent\",\r\n  initialState: {\r\n    adherentStatus: \"idle\",\r\n    adherents: null,\r\n    errors: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getRestInfo.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adherentStatus: \"loading\",\r\n      };\r\n    },\r\n    [getRestInfo.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adherents: action.payload,\r\n        adherentStatus: \"succeded\",\r\n        errors: null,\r\n      };\r\n    },\r\n    [getRestInfo.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adherentStatus: \"failed\",\r\n        errors: action.payload,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default adherentSlice.reducer;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport { initState } from \"../../features/authSlice\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaCheckCircle } from \"react-icons/fa\";\r\nimport { FaPlusCircle } from \"react-icons/fa\";\r\nimport { RiFacebookCircleFill } from \"react-icons/ri\";\r\nimport { FaInstagram } from \"react-icons/fa\";\r\nimport { ImWhatsapp } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport ContactUs from \"../../Components/ContactUs/ContactUs.js\";\r\nimport { getRestInfo } from \"../../features/adherentSlice.js\";\r\nimport \"./Home.css\";\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(initState());\r\n  }, []);\r\n  const { adherentStatus, errors, adherents } = useSelector(\r\n    (state) => state.adherent\r\n  );\r\n  useEffect(() => {\r\n    dispatch(getRestInfo());\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home__content\">\r\n        <div className=\"home__content__left\">\r\n          <h2>Digitalisez vos cartes! </h2>\r\n          <p>\r\n            DigitMenu permet l'affichage dynamique et interactif de votre carte,\r\n            vous pouvez gérer en quelques clics vos plats, menu, dessert et tous\r\n            se met à jour automatiquement ...\r\n          </p>\r\n          <Link to=\"/scan-code\">\r\n            <button className=\"home__content__btn\">Notre Menu </button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"scan\">\r\n          <img src=\"images/bg-light.png\" alt=\" \" />\r\n        </div>\r\n      </div>\r\n      <div className=\"home__sante\">\r\n        <p>Votre santé est une priorité !</p>\r\n        <p>\r\n          DigitMenu a été conçue afin de garantir autant que possible votre\r\n          santé et celle de vos clients!\r\n        </p>\r\n        <img src=\"images/Codiv-19.png\" alt=\"\" />\r\n      </div>\r\n      <section className=\"home__fonct\" id=\"sect1\">\r\n        <h4>Utilisation simple et efficace sans installation :</h4>\r\n        <div className=\"home__fonct__step\">\r\n          <IconContext.Provider value={{ className: \"check-icon\" }}>\r\n            <div>\r\n              <FaCheckCircle />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>\r\n            Le consommateur a juste besoin de scanner un QR code affiché sur vos\r\n            tables\r\n          </p>\r\n        </div>\r\n        <div className=\"home__fonct__step\">\r\n          <IconContext.Provider value={{ className: \"check-icon\" }}>\r\n            <div>\r\n              <FaCheckCircle />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>\r\n            Il est alors redirigé automatiquement vers votre carte dématérialisé\r\n          </p>\r\n        </div>\r\n        <div className=\"home__fonct__step\">\r\n          <IconContext.Provider value={{ className: \"check-icon\" }}>\r\n            <div>\r\n              <FaCheckCircle />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>la commande est prise sans le moindre contact</p>\r\n        </div>\r\n        <div className=\"home__fonct__img\">\r\n          <img src=\"images/img1.png\" alt=\"\" />\r\n          <div className=\"home__fonct__img__content\">\r\n            <img src=\"images/img2.png\" alt=\"\" />\r\n            <IconContext.Provider value={{ className: \"plus-icon\" }}>\r\n              <div>\r\n                <FaPlusCircle />\r\n              </div>\r\n            </IconContext.Provider>\r\n            <img src=\"images/img3.png\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <div className=\"block\">\r\n        <p>Booster votre restaurant !</p>\r\n        <p>\r\n          Ouvrez vous des nouveaux horizons via le digital pour sortir de la\r\n          crise du coronavirus\r\n        </p>\r\n      </div>\r\n\r\n      <section className=\"home__avantages\" id=\"sect2\">\r\n        <p>\r\n          En plus du respect des gestes barrières et du nouveau mode de vie que\r\n          nous devons adopter, le menu digital pour votre restaurant vous permet\r\n          de mettre à jour en temps réel votre carte et d'offrir une expérience\r\n          unique à vos clients.\r\n        </p>\r\n        <p>\r\n          Consacrez-vous à votre art et ne gaspillez pas votre temps et votre\r\n          énergie à désinfecter vos cartes pour chaque nouveau client. DigitMenu\r\n          est une solution rapide, économique, qui respecte les gestes barrières\r\n          pour vous libérer.\r\n        </p>\r\n        <p>\r\n          Toutes les mises à jour de votre menu digital restaurant sont\r\n          immédiatement visibles par vos clients. Un plat caché par suite d’une\r\n          rupture de stock ou d'un problème en cuisine, un visuel à changer, un\r\n          prix à adapter...le menu visible par vos clients est à jour, votre\r\n          service est très largement amélioré.\r\n        </p>\r\n        <p>\r\n          {\" \"}\r\n          Vous limitez votre impact sur la nature en évitant les réimpressions\r\n          régulières de vos cartes. Vous ne gaspillez plus de papier et vous\r\n          diminuez vos déchets pour vous inscrire dans une démarche\r\n          écoresponsable.\r\n        </p>\r\n      </section>\r\n      <section className=\"home__adher\" id=\"sect3\">\r\n        <h1> Les adhérents </h1>\r\n\r\n        <div className=\"home__adher__items slider\">\r\n          <div className=\"slide-track\">\r\n            {adherentStatus === \"loading\" ? (\r\n              <span>Loading...</span>\r\n            ) : adherentStatus === \"succeded\" ? (\r\n              adherents && adherents.length > 0 ? (\r\n                adherents.map((adher) => (\r\n                  <div className=\"slide\" key={adher._id}>\r\n                    <img className=\"images\" src={adher.logo} alt=\"adherent\" />\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <span>soyer le premier ..</span>\r\n              )\r\n            ) : (\r\n              adherentStatus === \"failed\" && (\r\n                <span>une erreur est survenue</span>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <footer className=\"footer\" id=\"sect4\">\r\n        <ContactUs />\r\n        <div className=\"footer__content\">\r\n          <div className=\"social__contact\">\r\n            <div className=\"contact__us__left contact__us__border\">\r\n              <p>Nous contacter</p>\r\n            </div>\r\n            <div className=\"social__icons\">\r\n              <IconContext.Provider\r\n                value={{ className: \"social__icons__style\" }}\r\n              >\r\n                <RiFacebookCircleFill />\r\n              </IconContext.Provider>\r\n\r\n              <IconContext.Provider\r\n                value={{ className: \"social__icons__style\" }}\r\n              >\r\n                <FaInstagram />\r\n              </IconContext.Provider>\r\n              <IconContext.Provider\r\n                value={{ className: \"social__icons__style\" }}\r\n              >\r\n                <ImWhatsapp />\r\n              </IconContext.Provider>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"copy-right\">\r\n            &copy; 2021 Copyright all right reserved.\r\n          </p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Link } from 'react-scroll';\r\n\r\nconst ScrollComponent = (props) => {\r\n  return (\r\n    <Link\r\n      activeClass='active'\r\n      to={props.section}\r\n      spy={true}\r\n      smooth={true}\r\n      offset={-70}\r\n      duration={900}>\r\n      {props.children}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ScrollComponent;\r\n","import React, { Fragment, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout } from \"../../features/authSlice\";\r\nimport { HiMenuAlt3 } from \"react-icons/hi\";\r\nimport { MdRestaurantMenu } from \"react-icons/md\";\r\nimport { IconContext } from \"react-icons\";\r\nimport ScrollComponent from \"../../utils/scroll\";\r\nimport \"./Navbar.css\";\r\n\r\nconst Navbar = () => {\r\n  const [click, setClick] = useState(false);\r\n  const handleClick = () => setClick(!click);\r\n  const closeMobileMenu = () => setClick(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const isAuth = useSelector((state) => state.auth.isAuthenticated);\r\n  const isClient = useSelector((state) => state.auth.isClient);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const handleLog = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  const adminMenu = (\r\n    <Fragment>\r\n      <Link to=\"/admin-section\">\r\n        <span className=\"navbar__link__logo\">\r\n          <img\r\n            className=\"navbar__link--logo\"\r\n            src=\"images/logo/digitmenu-logo.svg\"\r\n            alt=\"logo\"\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to=\"/\">\r\n        <span className=\"navbar__link\" onClick={handleLog}>\r\n          Déconnexion\r\n        </span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const ownerMenu = (\r\n    <Fragment>\r\n      <Link to=\"/owner-section\">\r\n        <span className=\"navbar__link__logo\">\r\n          <img\r\n            className=\"navbar__link--logo\"\r\n            src=\"images/logo/digitmenu-logo.svg\"\r\n            alt=\"logo\"\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to=\"/\">\r\n        <span className=\"navbar__link\" onClick={handleLog}>\r\n          Déconnexion\r\n        </span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const homeMenu = (\r\n    <Fragment>\r\n      <Link to=\"/\">\r\n        <span className=\"navbar__link__logo\">\r\n          <img\r\n            className=\"navbar__link--logo\"\r\n            src=\"images/logo/digitmenu-logo.svg\"\r\n            alt=\"logo\"\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <div\r\n        className={click ? \"navbar__first-menu active\" : \"navbar__first-menu\"}\r\n        onClick={closeMobileMenu}\r\n      >\r\n        <ScrollComponent section=\"sect1\">\r\n          <span className=\"navbar__link\" onClick={closeMobileMenu}>\r\n            fonctionnement\r\n          </span>\r\n        </ScrollComponent>\r\n\r\n        <ScrollComponent section=\"sect2\">\r\n          <span className=\"navbar__link\" onClick={closeMobileMenu}>\r\n            avantages\r\n          </span>\r\n        </ScrollComponent>\r\n        <ScrollComponent section=\"sect3\">\r\n          <span className=\"navbar__link\" onClick={closeMobileMenu}>\r\n            adhérents\r\n          </span>\r\n        </ScrollComponent>\r\n        <ScrollComponent section=\"sect4\">\r\n          <span className=\"navbar__link\" onClick={closeMobileMenu}>\r\n            Nous contacter\r\n          </span>\r\n        </ScrollComponent>\r\n      </div>\r\n      <div className=\"navbar__second-menu\">\r\n        <Link to=\"/signin\" onClick={closeMobileMenu}>\r\n          <span className=\"navbar__link\">se connecter</span>\r\n        </Link>\r\n        <div className=\"mobile-menu\" onClick={handleClick}>\r\n          {click ? (\r\n            <IconContext.Provider value={{ className: \"menu-icon\" }}>\r\n              <div>\r\n                <MdRestaurantMenu />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <IconContext.Provider value={{ className: \"menu-icon\" }}>\r\n              <div>\r\n                <HiMenuAlt3 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n  const clientMenu = (\r\n    <Fragment>\r\n      <Link to=\"/client-page\">\r\n        <span className=\"navbar__link__logo\">\r\n          <img\r\n            className=\"navbar__link--logo\"\r\n            src=\"images/logo/digitmenu-logo.svg\"\r\n            alt=\"logo\"\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to=\"/\">\r\n        <span className=\"navbar__link\">Deconnexion</span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const workerMenu = (\r\n    <Fragment>\r\n      <Link to=\"/worker-section\">\r\n        <span className=\"navbar__link__logo\">\r\n          <img\r\n            className=\"navbar__link--logo\"\r\n            src=\"images/logo/digitmenu-logo.svg\"\r\n            alt=\"logo\"\r\n            onClick={closeMobileMenu}\r\n          />\r\n        </span>\r\n      </Link>\r\n      <Link to=\"/\">\r\n        <span className=\"navbar__link\" onClick={handleLog}>\r\n          Déconnexion\r\n        </span>\r\n      </Link>\r\n    </Fragment>\r\n  );\r\n  const navMenu = isAuth\r\n    ? user.role === \"owner\"\r\n      ? ownerMenu\r\n      : user.role === \"admin\"\r\n      ? adminMenu\r\n      : workerMenu\r\n    : isClient\r\n    ? clientMenu\r\n    : homeMenu;\r\n\r\n  return <div className=\"navbar\">{navMenu}</div>;\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { login } from '../../features/authSlice';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport './SignIn.css';\r\n\r\nconst SignIn = () => {\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const { username, password } = values;\r\n  const { authStatus, authErrors } = useSelector((state) => state.auth);\r\n\r\n  let history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login({ history, username, password }));\r\n  };\r\n  return (\r\n    <div className='signin'>\r\n      <div className='signin__container'>\r\n        <h1>Sign In</h1>\r\n        <form>\r\n          <div className='signin__form__group'>\r\n            <h5>Username</h5>\r\n            <span>\r\n              {authStatus.authUser === 'failed' &&\r\n                authErrors.authUser &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'username')[0] &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'username')[0].msg}\r\n            </span>\r\n            <input\r\n              type='text'\r\n              className='signin__container__form__input valid__input'\r\n              name='username'\r\n              value={username}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className='signin__form__group'>\r\n            <h5>Password</h5>\r\n            <span>\r\n              {authStatus.authUser === 'failed' &&\r\n                authErrors.authUser &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'password')[0] &&\r\n                authErrors.authUser.data.filter((err) => err.param === 'password')[0].msg}\r\n            </span>\r\n\r\n            <input\r\n              type='password'\r\n              className='signin__container__form__input valid__input'\r\n              name='password'\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button type='submit' className='signin__signInButton' onClick={handleClick}>\r\n            {authStatus.authUser === 'loading' ? (\r\n              <IconContext.Provider value={{ className: 'spinner' }}>\r\n                <div>\r\n                  <ImSpinner9 />\r\n                </div>\r\n              </IconContext.Provider>\r\n            ) : (\r\n              <span>Sign In</span>\r\n            )}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Redirect, useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authClient } from '../../features/authSlice';\r\nimport { FaRegSmileWink } from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons';\r\nimport QrReader from 'react-qr-scanner';\r\nimport './ScanCode.css';\r\n\r\nconst ScanCode = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { authStatus } = useSelector((state) => state.auth);\r\n  const [values, setValues] = useState({\r\n    delay: 500,\r\n    result: null,\r\n    code: '',\r\n  });\r\n  const { delay, result, code } = values;\r\n  const handleScan = (data) => {\r\n    setValues({ ...values, result: data });\r\n  };\r\n  const handleError = (err) => {\r\n    console.error(err);\r\n  };\r\n  const previewStyle = {\r\n    height: 220,\r\n    width: 200,\r\n  };\r\n  // const handleInput = (e) => {\r\n  //   setValues({ ...values, code: e.target.value });\r\n  // };\r\n  // const handleSubmit = () => {\r\n  //   setValues({ ...values, result: code });\r\n  // };\r\n  useEffect(() => {\r\n    if (result)\r\n      dispatch(\r\n        authClient({\r\n          restId: result.split('+')[0],\r\n          tableNumber: result.split('+')[1],\r\n          history,\r\n        })\r\n      );\r\n  }, [result]);\r\n\r\n  return (\r\n    <div className='code'>\r\n      {authStatus.authClient === 'failed' ? (\r\n        <div className='message-client'>\r\n          <IconContext.Provider value={{ className: 'auth-failed' }}>\r\n            <div>\r\n              <FaRegSmileWink />\r\n            </div>\r\n          </IconContext.Provider>\r\n          <p>Ce qr Code n'est pas valide </p>\r\n        </div>\r\n      ) : (\r\n        <Fragment>\r\n          <div className='reader'>\r\n            <QrReader\r\n              className='qr-reader'\r\n              delay={delay}\r\n              style={previewStyle}\r\n              onError={handleError}\r\n              onScan={handleScan}\r\n            />\r\n          </div>\r\n          {/* <input\r\n            size=\"50\"\r\n            className=\"test\"\r\n            type=\"text\"\r\n            name=\"code\"\r\n            value={code}\r\n            onChange={handleInput}\r\n          />\r\n          <button onClick={handleSubmit}>confirm</button>\r\n          <h1>{result}</h1> */}\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScanCode;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nexport const createOwner = createAsyncThunk(\r\n  \"owner/create-owner\",\r\n  async (data, { rejectWithValue }) => {\r\n    console.log(data);\r\n    try {\r\n      const response = await axios.post(\"/owner/create-owner\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getAllOwners = createAsyncThunk(\r\n  \"owner/get-all\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"/owner/owners\");\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteOwner = createAsyncThunk(\r\n  \"owner/delete-owner\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/owner/del-owner\", data);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const adminSlice = createSlice({\r\n  name: \"owner\",\r\n  initialState: {\r\n    owner: \"\",\r\n\r\n    owners: null,\r\n    adminStatus: {\r\n      create: \"idle\",\r\n      delete: \"idle\",\r\n      getAll: \"idle\",\r\n    },\r\n    adminErrors: {\r\n      create: null,\r\n      delete: null,\r\n\r\n      getAll: null,\r\n    },\r\n  },\r\n  reducers: {\r\n    initErrors(state) {\r\n      return {\r\n        ...state,\r\n        adminErrors: { create: null, delete: null, getAll: null },\r\n      };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [createOwner.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [createOwner.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, create: \"succeded\" },\r\n        adminErrors: { ...state.adminErrors, create: null },\r\n        owner: action.payload,\r\n      };\r\n    },\r\n    [createOwner.rejected]: (state, action) => ({\r\n      ...state,\r\n      adminStatus: { ...state.adminStatus, create: \"failed\" },\r\n      adminErrors: { ...state.adminErrors, create: action.payload },\r\n    }),\r\n    [getAllOwners.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, getAll: \"loading\" },\r\n      };\r\n    },\r\n    [getAllOwners.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        owners: action.payload,\r\n        adminStatus: { ...state.adminStatus, getAll: \"succeded\" },\r\n        adminErrors: { ...state.adminErrors, getAll: null },\r\n      };\r\n    },\r\n    [getAllOwners.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, getAll: \"failed\" },\r\n        adminErrors: { ...state.adminErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [deleteOwner.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        adminStatus: { ...state.adminStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteOwner.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        owner: action.payload,\r\n        adminStatus: { ...state.adminStatus, delete: \"succeded\" },\r\n        adminErrors: { ...state.adminErrors, delete: null },\r\n      };\r\n    },\r\n    [deleteOwner.rejected]: (state, action) => ({\r\n      ...state,\r\n      adminStatus: { ...state.adminStatus, delete: \"failed\" },\r\n      adminErrors: { ...state.adminErrors, delete: action.payload },\r\n    }),\r\n  },\r\n});\r\nexport const { initErrors } = adminSlice.actions;\r\n\r\nexport default adminSlice.reducer;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport { createOwner } from '../../features/adminSlice';\r\nimport './AddOwner.css';\r\n\r\nconst AddOwner = () => {\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n  const { username, password } = values;\r\n  const dispatch = useDispatch();\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const { adminStatus, adminErrors } = useSelector((state) => state.admin);\r\n  useEffect(() => {\r\n    if (adminStatus.create === 'succeded') {\r\n      setValues({ username: '', password: '' });\r\n    }\r\n  }, [adminStatus]);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createOwner({ username, password }));\r\n  };\r\n  return (\r\n    <div className='addowner'>\r\n      <h3>Create new Owner</h3>\r\n      <form>\r\n        <div className='addowner__form__group'>\r\n          <h5>Username</h5>\r\n\r\n          <span>\r\n            {adminStatus.create === 'failed' &&\r\n              adminErrors.create &&\r\n              adminErrors.create.data.filter((err) => err.param === 'username')[0].msg}\r\n          </span>\r\n\r\n          <input\r\n            type='text'\r\n            className='addowner__container__form__input valid__input'\r\n            name='username'\r\n            value={username}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className='addowner__form__group'>\r\n          <h5>Password</h5>\r\n\r\n          <span>\r\n            {adminStatus.create === 'failed' &&\r\n              adminErrors.create &&\r\n              adminErrors.create.data.filter((err) => err.param === 'password')[0].msg}\r\n          </span>\r\n\r\n          <input\r\n            type='password'\r\n            className='addowner__container__form__input valid__input'\r\n            name='password'\r\n            value={password}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <button type='submit' className='addowner__addownerButton' onClick={handleSubmit}>\r\n          {adminStatus.create === 'loading' ? (\r\n            <IconContext.Provider value={{ className: 'spinner' }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>Add</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddOwner;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deleteOwner } from '../../features/adminSlice';\r\n\r\nimport './OwnerList.css';\r\n\r\nconst OwnerList = ({ owners }) => {\r\n  const dispatch = useDispatch();\r\n  const handleClick = (id) => {\r\n    dispatch(deleteOwner({ id }));\r\n  };\r\n  return (\r\n    <div className='ownerlist'>\r\n      <h3>List of Clients</h3>\r\n      {owners && owners.length > 0 ? (\r\n        owners.map((owner) => (\r\n          <div className='ownerlist__item' key={owner._id}>\r\n            <h5>The Owner :</h5>\r\n            <span>{owner.username}</span>\r\n            <button onClick={() => handleClick(owner._id)} className='owner__btn'>\r\n              delete\r\n            </button>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <h5>you have no client yet</h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerList;\r\n","import React, { useEffect } from 'react';\r\nimport AddOwner from '../../Components/AddOwner/AddOwner';\r\nimport OwnerList from '../../Components/OwnerList/OwnerList';\r\nimport { getAllOwners } from '../../features/adminSlice';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport openSocket from 'socket.io-client';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport './AdminSection.css';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst AdminSection = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  let isAuth = useSelector((state) => state.auth.isAuthenticated);\r\n  useEffect(() => {\r\n    if (isAuth) {\r\n      dispatch(getAllOwners());\r\n    }\r\n  }, [isAuth]);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/admin-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    socket.on('owners', (data) => {\r\n      console.log('from server', data.action);\r\n      dispatch(getAllOwners());\r\n    });\r\n\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n\r\n  const { owners, adminStatus, adminErrors } = useSelector((state) => state.admin);\r\n\r\n  return (\r\n    <div className='admin'>\r\n      <AddOwner />\r\n\r\n      {adminStatus.getAll === 'loading' ? (\r\n        <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : adminStatus.getAll === 'failed' ? (\r\n        <h2>something went wrong</h2>\r\n      ) : adminStatus.getAll === 'succeded' && owners.length > 0 ? (\r\n        <OwnerList owners={owners} />\r\n      ) : (\r\n        <h5>you have no clients</h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSection;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const createRestaurant = createAsyncThunk(\r\n  \"restaurant/create-restaurant\",\r\n  async (formData, { rejectWithValue }) => {\r\n    formData.forEach((value, key) => {\r\n      console.log(\"key,value\", key, value);\r\n    });\r\n    try {\r\n      const response = await axios.post(\r\n        \"/restaurant/create-restaurant\",\r\n        formData\r\n      );\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteRestaurant = createAsyncThunk(\r\n  \"restaurant/delete-restaurant\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/restaurant/del-rest\", formData);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const editRestaurant = createAsyncThunk(\r\n  \"restaurant/edit-restaurant\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/restaurant/edit-rest\", formData);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getRestList = createAsyncThunk(\r\n  \"restaurant/getAll\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\"/restaurant/my-rests\");\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const ownerSlice = createSlice({\r\n  name: \"restaurant\",\r\n  initialState: {\r\n    restList: null,\r\n    ownerStatus: {\r\n      create: \"idle\",\r\n      edit: \"idle\",\r\n      delete: \"idle\",\r\n      getList: \"idle\",\r\n    },\r\n    ownerErrors: { create: null, edit: null, delete: null, getList: null },\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [createRestaurant.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [createRestaurant.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, create: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, create: null },\r\n        owner: action.payload,\r\n      };\r\n    },\r\n    [createRestaurant.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, create: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, create: action.payload },\r\n      };\r\n    },\r\n    [getRestList.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, getList: \"loading\" },\r\n      };\r\n    },\r\n    [getRestList.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, getList: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, getList: null },\r\n        restList: action.payload,\r\n      };\r\n    },\r\n    [getRestList.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, getList: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, getList: action.payload },\r\n      };\r\n    },\r\n    [deleteRestaurant.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteRestaurant.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, delete: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, delete: null },\r\n      };\r\n    },\r\n    [deleteRestaurant.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, delete: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, delete: action.payload },\r\n      };\r\n    },\r\n    [editRestaurant.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, edit: \"failed\" },\r\n        ownerErrors: { ...state.ownerErrors, edit: action.payload },\r\n      };\r\n    },\r\n\r\n    [editRestaurant.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, edit: \"loading\" },\r\n      };\r\n    },\r\n    [editRestaurant.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        ownerStatus: { ...state.ownerStatus, edit: \"succeded\" },\r\n        ownerErrors: { ...state.ownerErrors, edit: null },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default ownerSlice.reducer;\r\n","export const generateBase64FromImage = (imageFile) => {\r\n  const reader = new FileReader();\r\n  const promise = new Promise((resolve, reject) => {\r\n    reader.onload = (e) => resolve(e.target.result);\r\n    reader.onerror = (err) => reject(err);\r\n  });\r\n\r\n  reader.readAsDataURL(imageFile);\r\n  return promise;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { createRestaurant } from \"../../features/ownerSlice\";\r\nimport { generateBase64FromImage } from \"../../utils/image\";\r\nimport \"./AddRestaurant.css\";\r\n\r\nconst AddRestaurant = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    logo: \"\",\r\n    preview: \"\",\r\n  });\r\n  const { name, logo, address, preview } = values;\r\n  const dispatch = useDispatch();\r\n  const { ownerStatus, ownerErrors } = useSelector((state) => state.owner);\r\n  useEffect(() => {\r\n    if (ownerStatus.create === \"succeded\")\r\n      setValues({ name: \"\", address: \"\", logo: \"\", preview: \"\" });\r\n  }, [ownerStatus]);\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const fileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, logo: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"address\", address);\r\n    formData.append(\"image\", logo);\r\n    dispatch(createRestaurant(formData));\r\n  };\r\n  return (\r\n    <div className=\"addrestau\">\r\n      <h3>Ajouter un restaurant</h3>\r\n      <form>\r\n        <div className=\"addrestau__form__group\">\r\n          <h5>Nom du Restaurant</h5>\r\n          <span>\r\n            {ownerStatus.create === \"failed\" &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"name\"\r\n              )[0] &&\r\n              ownerErrors.create.data.filter((err) => err.param === \"name\")[0]\r\n                .msg}\r\n          </span>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"addrestau__container__form__input valid__input\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"addrestau__form__group\">\r\n          <h5>adresse</h5>\r\n          <span>\r\n            {ownerStatus.create === \"failed\" &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"address\"\r\n              )[0] &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"address\"\r\n              )[0].msg}\r\n          </span>\r\n\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"num rue xxx ville\"\r\n            className=\"addrestau__container__form__input valid__input\"\r\n            name=\"address\"\r\n            value={address}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"addrestau__form__group\">\r\n          <h5>logo</h5>\r\n          <span>\r\n            {ownerStatus.create === \"failed\" &&\r\n              ownerErrors.create.data.filter(\r\n                (err) => err.param === \"logo\"\r\n              )[0] &&\r\n              ownerErrors.create.data.filter((err) => err.param === \"logo\")[0]\r\n                .msg}\r\n          </span>\r\n          <div className=\"img-section\">\r\n            <input\r\n              type=\"file\"\r\n              className=\"addrestau__container__form__input valid__input\"\r\n              name=\"logo\"\r\n              onChange={fileHandler}\r\n            />\r\n            {preview && <img className=\"logo-preview\" src={preview} alt=\"d\" />}\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"addrestau__addrestauButton\"\r\n          onClick={handleSubmit}\r\n        >\r\n          {ownerStatus.create === \"loading\" ? (\r\n            <IconContext.Provider value={{ className: \"spinner\" }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddRestaurant;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteRestaurant, editRestaurant } from \"../../features/ownerSlice\";\r\nimport { generateBase64FromImage } from \"../../utils/image\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { MdRestaurantMenu } from \"react-icons/md\";\r\n\r\nimport \"./RestaurantListItem.css\";\r\nimport { FaUsersCog } from \"react-icons/fa\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { GoListUnordered } from \"react-icons/go\";\r\nimport { GiTable } from \"react-icons/gi\";\r\n\r\nconst RestaurantListIem = ({ rest }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    image: \"\",\r\n    preview: \"\",\r\n    address: \"\",\r\n    edit: false,\r\n  });\r\n  const { name, image, preview, address, edit } = values;\r\n  const dispatch = useDispatch();\r\n  const { ownerStatus, ownerErrors } = useSelector((state) => state.owner);\r\n  useEffect(() => {\r\n    if (ownerStatus.edit === \"succeded\")\r\n      setValues({ ...values, edit: false, preview: null });\r\n  }, [ownerStatus]);\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteRestaurant({ restId: id }));\r\n  };\r\n  const handleFile = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, image: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleData = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const handleEdit = (rest) => {\r\n    if (!edit) {\r\n      setValues({\r\n        name: rest.name,\r\n        address: rest.address,\r\n        edit: true,\r\n      });\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append(\"name\", name);\r\n      formData.append(\"address\", address);\r\n      formData.append(\"image\", image);\r\n      formData.append(\"restId\", rest._id);\r\n      formData.append(\"lastImg\", rest.logo);\r\n      dispatch(editRestaurant(formData));\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"restlist__item\">\r\n      <div className=\"restlist__item__form\">\r\n        <div className=\"restlist__item__form__group\">\r\n          {edit ? (\r\n            <input type=\"file\" name=\"image\" onChange={handleFile} />\r\n          ) : (\r\n            <img className=\"image-prev\" src={rest.logo} alt=\"\" />\r\n          )}\r\n          {preview && <img className=\"image-prev\" src={preview} alt=\" \" />}\r\n        </div>\r\n        <div className=\"restlist__item__form__group\">\r\n          <h5>NOM : </h5>\r\n          <span className=\"error-message\">\r\n            {edit &&\r\n              ownerStatus.edit === \"failed\" &&\r\n              ownerErrors.edit.data.filter((err) => err.param === \"name\")[0] &&\r\n              ownerErrors.edit.data.filter((err) => err.param === \"name\")[0]\r\n                .msg}\r\n          </span>\r\n          {edit ? (\r\n            <input type=\"text\" name=\"name\" value={name} onChange={handleData} />\r\n          ) : (\r\n            <p>{rest.name}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"restlist__item__form__group\">\r\n          <h5>Addresse : </h5>\r\n          <span className=\"error-message\">\r\n            {edit &&\r\n              ownerStatus.edit === \"failed\" &&\r\n              ownerErrors.edit.data.filter(\r\n                (err) => err.param === \"address\"\r\n              )[0] &&\r\n              ownerErrors.edit.data.filter((err) => err.param === \"address\")[0]\r\n                .msg}\r\n          </span>\r\n          {edit ? (\r\n            <input\r\n              type=\"text\"\r\n              name=\"address\"\r\n              value={address}\r\n              onChange={handleData}\r\n            />\r\n          ) : (\r\n            <p>{rest.address}</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"restlist__item__form__button\">\r\n          <button onClick={() => handleDelete(rest._id)}>\r\n            {edit && ownerStatus.delete === \"loading\" ? (\r\n              <IconContext.Provider value={{ className: \"spinner\" }}>\r\n                <div>\r\n                  <ImSpinner9 />\r\n                </div>\r\n              </IconContext.Provider>\r\n            ) : (\r\n              <span>Supprimer</span>\r\n            )}\r\n          </button>\r\n          <button onClick={() => handleEdit(rest)}>\r\n            <span>Modifier</span>\r\n          </button>\r\n        </div>\r\n        <div className=\"restlist__item__form__links\">\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/my-rest\",\r\n              state: {\r\n                restId: rest._id,\r\n                logo: rest.logo,\r\n                restName: rest.name,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <MdRestaurantMenu />\r\n                </IconContext.Provider>\r\n                <span>Menu</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/staff\",\r\n              state: {\r\n                restId: rest._id,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <FaUsersCog />\r\n                </IconContext.Provider>\r\n                <span> Staff</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/orders\",\r\n              state: {\r\n                restId: rest._id,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <GoListUnordered />\r\n                </IconContext.Provider>\r\n                <span>Commandes</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n          <Link\r\n            to={{\r\n              pathname: \"/owner-section/tables\",\r\n              state: {\r\n                restId: rest._id,\r\n              },\r\n            }}\r\n          >\r\n            <span>\r\n              <div className=\"staff__bouton\">\r\n                <IconContext.Provider value={{ className: \"staff-icon\" }}>\r\n                  <GiTable />\r\n                </IconContext.Provider>\r\n                <span>Tables</span>\r\n              </div>\r\n            </span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantListIem;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport RestaurantListItem from \"../RestaurantListItem/RestaurantListIem\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport \"./RestaurantList.css\";\r\n\r\nconst RestaurantList = ({ restaurants }) => {\r\n  const { ownerStatus, ownerErrors } = useSelector((state) => state.owner);\r\n  return (\r\n    <div className=\"restlist\">\r\n      <h3>Liste des restaurants</h3>\r\n      <div className=\"restlist__list\">\r\n        {ownerStatus.getList === \"loading\" ? (\r\n          <IconContext.Provider value={{ className: \"spinner--large\" }}>\r\n            <div>\r\n              <ImSpinner9 />\r\n            </div>\r\n          </IconContext.Provider>\r\n        ) : ownerStatus.getList === \"failed\" ? (\r\n          <h2>something went wrong</h2>\r\n        ) : ownerStatus.getList === \"succeded\" && restaurants.length > 0 ? (\r\n          restaurants.map((rest) => (\r\n            <RestaurantListItem key={rest._id} rest={rest} />\r\n          ))\r\n        ) : (\r\n          <h5> aucun restaurant n'est enregistré </h5>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantList;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const getMenuByRest = createAsyncThunk(\r\n  \"menu/rest-menu\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const res = await axios.get(`/menu/get-rest-menu/${id}`);\r\n      return res.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteItemMenu = createAsyncThunk(\r\n  \"menu/delete-item\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/menu/delete-item\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const editItemMenu = createAsyncThunk(\r\n  \"menu/edit-item\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/menu/edit-item\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const addToMenu = createAsyncThunk(\r\n  \"restaurant/add-to-menu\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/menu/update-menu\", formData);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const menuSlice = createSlice({\r\n  name: \"menu\",\r\n  initialState: {\r\n    menu: null,\r\n    menuErrors: { create: null, edit: null, delete: null, getMenu: null },\r\n    menuStatus: {\r\n      create: \"idle\",\r\n      edit: \"idle\",\r\n      delete: \"idle\",\r\n      getMenu: \"idle\",\r\n    },\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getMenuByRest.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, getMenu: \"loading\" },\r\n      };\r\n    },\r\n    [getMenuByRest.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, getMenu: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, getMenu: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [getMenuByRest.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, getMenu: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, getMenu: action.payload },\r\n      };\r\n    },\r\n    [addToMenu.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [addToMenu.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, create: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, create: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [addToMenu.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, create: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, create: action.payload },\r\n      };\r\n    },\r\n\r\n    [deleteItemMenu.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteItemMenu.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, delete: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, delete: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [deleteItemMenu.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, delete: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, delete: action.payload },\r\n      };\r\n    },\r\n    [editItemMenu.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, edit: \"loading\" },\r\n      };\r\n    },\r\n    [editItemMenu.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, edit: \"succeded\" },\r\n        menuErrors: { ...state.menuErrors, edit: null },\r\n        menu: action.payload,\r\n      };\r\n    },\r\n    [editItemMenu.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        menuStatus: { ...state.menuStatus, edit: \"failed\" },\r\n        menuErrors: { ...state.menuErrors, edit: action.payload },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default menuSlice.reducer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport { addToMenu } from '../../features/menuSlice';\r\nimport openSocket from 'socket.io-client';\r\nimport { generateBase64FromImage } from '../../utils/image';\r\nimport './AddMenu.css';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst AddMenu = () => {\r\n  const ref = React.useRef();\r\n  const clearImag = () => {\r\n    ref.current.value = '';\r\n  };\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    price: '',\r\n    image: '',\r\n    preview: '',\r\n    description: '',\r\n    categorie: 'entree',\r\n  });\r\n  const location = useLocation();\r\n  const { restId, restName } = location.state;\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    socket.on('connect', () => {});\r\n    if (restId) {\r\n      console.log('restid', restId);\r\n      socket.emit('joinRoom', { restId });\r\n    }\r\n\r\n    socket.on('hi', (data) => {\r\n      console.log('from server', data);\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [restId]);\r\n\r\n  const { name, price, image, description, categorie, preview } = values;\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const { menuStatus, menuErrors } = useSelector((state) => state.menu);\r\n  useEffect(() => {\r\n    if (menuStatus.create === 'succeded') {\r\n      setValues({\r\n        name: '',\r\n        price: '',\r\n        image: '',\r\n        preview: '',\r\n        description: '',\r\n        categorie: 'entree',\r\n      });\r\n      clearImag();\r\n    }\r\n  }, [menuStatus]);\r\n  const fileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, image: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let formData = new FormData();\r\n    formData.append('restaurant', restId);\r\n    formData.append('name', name);\r\n    formData.append('price', price);\r\n    formData.append('image', image);\r\n    formData.append('description', description);\r\n    formData.append('categorie', categorie);\r\n\r\n    dispatch(addToMenu(formData));\r\n  };\r\n  return (\r\n    <div className='menu-add'>\r\n      <div className='menu__info'>\r\n        <h3> Création de Menu</h3>\r\n        <h5>{restName}</h5>\r\n        {/* <img src={'/' + logo} alt='logo' /> */}\r\n      </div>\r\n      <form className='menu-add__form'>\r\n        <div className='menu__form__group'>\r\n          <h5> nom </h5>\r\n          <span>\r\n            {menuStatus.create === 'failed' &&\r\n              menuErrors.create.data.filter((err) => err.param === 'name')[0] &&\r\n              menuErrors.create.data.filter((err) => err.param === 'name')[0].msg}\r\n          </span>\r\n          <input\r\n            type='text'\r\n            className='menu__container__form__input'\r\n            name='name'\r\n            value={name}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className='menu__form__group'>\r\n          <h5>description</h5>\r\n          <span>\r\n            {menuStatus.create === 'failed' &&\r\n              menuErrors.create.data.filter((err) => err.param === 'description')[0] &&\r\n              menuErrors.create.data.filter((err) => err.param === 'description')[0].msg}\r\n          </span>\r\n          <input\r\n            type='text'\r\n            className='menu__container__form__input'\r\n            name='description'\r\n            value={description}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className='menu__form__group'>\r\n          <h5>prix</h5>\r\n          <span>\r\n            {menuStatus.create === 'failed' &&\r\n              menuErrors.create.data.filter((err) => err.param === 'price')[0] &&\r\n              menuErrors.create.data.filter((err) => err.param === 'price')[0].msg}\r\n          </span>\r\n          <input\r\n            type='text'\r\n            className='menu__container__form__input'\r\n            name='price'\r\n            value={price}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className='menu__form__group-select'>\r\n          <h5>categorie</h5>\r\n\r\n          <select name='categorie' value={categorie} onChange={handleChange}>\r\n            <option key='entree' value='entree'>\r\n              Entree\r\n            </option>\r\n            <option key='boisson' value='boisson'>\r\n              Boisson\r\n            </option>\r\n            <option key='plat' value='plat'>\r\n              plat\r\n            </option>\r\n            <option key='Dessert' value='Dessert'>\r\n              Dessert{' '}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div className='menu__form__group'>\r\n          <h5>photo du plat </h5>\r\n          <div className='img-section'>\r\n            <span>\r\n              {menuStatus.create === 'failed' &&\r\n                menuErrors.create.data.filter((err) => err.param === 'logo')[0] &&\r\n                menuErrors.create.data.filter((err) => err.param === 'logo')[0].msg}\r\n            </span>\r\n            <input\r\n              ref={ref}\r\n              type='file'\r\n              className='menu__form__file'\r\n              name='image'\r\n              onChange={fileHandler}\r\n            />\r\n            {preview && <img className='image-preview' src={preview} alt='d' />}\r\n          </div>\r\n        </div>\r\n\r\n        <button type='submit' className='menu__menuButton' onClick={handleSubmit}>\r\n          {menuStatus.create === 'loading' ? (\r\n            <IconContext.Provider value={{ className: 'spinner' }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>Ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddMenu;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const addTable = createAsyncThunk(\r\n  \"table/add-table\",\r\n  async (FormData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\"/table/create-table\", FormData);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getTables = createAsyncThunk(\r\n  \"table/get-tables\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      console.log(\"id rest\", id);\r\n      const response = await axios.get(`/table/my-tables/${id}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteTable = createAsyncThunk(\r\n  \"table/del-table\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.delete(`/table/del-table/${id}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const tableSlice = createSlice({\r\n  name: \"table\",\r\n  initialState: {\r\n    tableStatus: { create: \"idle\", delete: \"idle\", getAll: \"idle\" },\r\n    tableErrors: { create: null, delete: null, getAll: null },\r\n    table: null,\r\n    listTable: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [addTable.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [addTable.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        table: action.payload,\r\n        tableStatus: { ...state.tableStatus, create: \"succeded\" },\r\n        tableErrors: { ...state.tableErrors, create: null },\r\n      };\r\n    },\r\n    [addTable.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, create: \"failed\" },\r\n        tableErrors: { ...state.tableErrors, create: action.payload },\r\n      };\r\n    },\r\n    [getTables.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, getAll: \"loading\" },\r\n      };\r\n    },\r\n    [getTables.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        listTable: action.payload,\r\n        tableStatus: { ...state.tableStatus, getAll: \"succeded\" },\r\n        tableErrors: { ...state.tableErrors, getAll: null },\r\n      };\r\n    },\r\n    [getTables.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, getAll: \"failed\" },\r\n        tableErrors: { ...state.tableErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [deleteTable.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, delete: \"loading\" },\r\n      };\r\n    },\r\n    [deleteTable.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, delete: \"succeded\" },\r\n        tableErrors: { ...state.tableErrors, delete: null },\r\n      };\r\n    },\r\n    [deleteTable.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        tableStatus: { ...state.tableStatus, delete: \"failed\" },\r\n        tableErrors: { ...state.tableErrors, delete: action.payload },\r\n      };\r\n    },\r\n  },\r\n});\r\nexport default tableSlice.reducer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addTable } from \"../../features/tableSlice\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport \"./AddTable.css\";\r\n\r\nconst AddTable = ({ restId }) => {\r\n  const [values, setValues] = useState({\r\n    tableNumber: \"\",\r\n    tableCode: \"\",\r\n  });\r\n  const { tableNumber, tableCode } = values;\r\n  const dispatch = useDispatch();\r\n  const { tableStatus, tableErrors } = useSelector((state) => state.table);\r\n  useEffect(() => {\r\n    if (tableStatus.create === \"succeded\")\r\n      setValues({ ...values, tableNumber: \"\", tableCode: \"\" });\r\n  }, [tableStatus]);\r\n\r\n  const handleChange = (e) => {\r\n    setValues({\r\n      tableNumber: e.target.value,\r\n      tableCode: restId + \"+\" + e.target.value,\r\n    });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(addTable({ tableNumber, tableCode, restaurant: restId }));\r\n  };\r\n  return (\r\n    <div className=\"add-table\">\r\n      <h3>Ajout des tables </h3>\r\n      <form className=\"add-table__form\">\r\n        <div className=\"add-table__form__group\">\r\n          <h5>Numéro de table</h5>\r\n          <input\r\n            type=\"number\"\r\n            name=\"tableNumber\"\r\n            value={tableNumber}\r\n            onChange={handleChange}\r\n            min=\"1\"\r\n          />\r\n\r\n          {tableStatus.create === \"failed\" && (\r\n            <span className=\"add-table-error\">\r\n              {\" \"}\r\n              {tableErrors.create.data[0].msg}\r\n            </span>\r\n          )}\r\n        </div>\r\n        <button type=\"submit\" onClick={handleSubmit}>\r\n          {tableStatus.create === \"loading\" ? (\r\n            <IconContext.Provider value={{ className: \"spinner\" }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>Ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTable;\r\n","import React, { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { deleteTable } from \"../../features/tableSlice\";\r\nimport \"./Tables.css\";\r\n\r\nconst Tables = ({ tables }) => {\r\n  const dispatch = useDispatch();\r\n  const componentRef = useRef();\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteTable(id));\r\n  };\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n    pageStyle: `\r\n      @page {\r\n    size: 100mm 100mm;\r\n  }\r\n    `,\r\n  });\r\n  return (\r\n    <div className=\"tables\">\r\n      <h4>liste des tables</h4>\r\n      {tables &&\r\n        tables.map((table) => (\r\n          <div className=\"tables__single-table\" key={table._id}>\r\n            <div className=\"tables__single-table__info\">\r\n              <h4>Numéro de table</h4>\r\n              <p>{table.tableNumber}</p>\r\n            </div>\r\n            <img\r\n              ref={componentRef}\r\n              src={\"/images/\" + table.codeImg}\r\n              alt=\"code\"\r\n            />\r\n            <div className=\"tables__single-table__buttons\">\r\n              <button onClick={handlePrint}>Imprimer</button>\r\n              <button onClick={() => handleDelete(table._id)}>Supprimer</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tables;\r\n","import React, { useEffect } from \"react\";\r\nimport AddTable from \"../AddTable/AddTable\";\r\nimport Tables from \"../Tables/Tables\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { getTables } from \"../../features/tableSlice\";\r\nimport \"./TableList.css\";\r\n\r\nconst TableList = ({ channel }) => {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n\r\n  const { restId } = location.state;\r\n  useEffect(() => {\r\n    dispatch(getTables(restId));\r\n  }, [dispatch, restId]);\r\n  useEffect(() => {\r\n    if (channel) {\r\n      channel.on(\"tables\", (data) => {\r\n        console.log(\"tables\", data.action);\r\n        dispatch(getTables(restId));\r\n      });\r\n    }\r\n  }, [channel]);\r\n\r\n  const { listTable, tableStatus } = useSelector((state) => state.table);\r\n  return (\r\n    <div className=\"table-list\">\r\n      <AddTable restId={restId} tables={listTable} />\r\n      {tableStatus.getAll === \"loading\" ? (\r\n        <IconContext.Provider value={{ className: \"spinner--large\" }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : tableStatus.getAll === \"failed\" ? (\r\n        <h4>une erreur est survenue ! veuillez réésayer SVP</h4>\r\n      ) : tableStatus.getAll === \"succeded\" && listTable.length > 0 ? (\r\n        <Tables tables={listTable} />\r\n      ) : (\r\n        <h4>Aucune table n'est enregistrée </h4>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableList;\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const createWorker = createAsyncThunk(\r\n  'staff/create-worker',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post('/worker/create-worker', data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getAllWorkers = createAsyncThunk(\r\n  'staff/get-all',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(`/worker/workers/${id}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const deleteWorker = createAsyncThunk(\r\n  'staff/delete-worker',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put('/worker/del-worker', data);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const staffSlice = createSlice({\r\n  name: 'staff',\r\n  initialState: {\r\n    worker: '',\r\n    workers: null,\r\n    workerStatus: { create: 'idle', delete: 'idle', getAll: 'idle' },\r\n    workerErrors: { create: 'null', delete: 'null', getAll: 'null' },\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [createWorker.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, create: 'loading' },\r\n      };\r\n    },\r\n    [createWorker.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        worker: action.payload,\r\n        workerStatus: { ...state.workerStatus, create: 'succeded' },\r\n        workerErrors: { ...state.workerErrors, create: 'null' },\r\n      };\r\n    },\r\n    [createWorker.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, create: 'failed' },\r\n        workerErrors: { ...state.workerErrors, create: action.payload },\r\n      };\r\n    },\r\n    [getAllWorkers.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, getAll: 'loading' },\r\n      };\r\n    },\r\n    [getAllWorkers.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workers: action.payload,\r\n        workerStatus: { ...state.workerStatus, getAll: 'succeded' },\r\n        workerErrors: { ...state.workerErrors, getAll: 'null' },\r\n      };\r\n    },\r\n    [getAllWorkers.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, getAll: 'failed' },\r\n        workerErrors: { ...state.workerErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [deleteWorker.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, delete: 'loading' },\r\n      };\r\n    },\r\n    [deleteWorker.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        worker: action.payload,\r\n        workerStatus: { ...state.workerStatus, delete: 'succeded' },\r\n        workerErrors: { ...state.workerErrors, delete: 'null' },\r\n      };\r\n    },\r\n    [deleteWorker.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        workerStatus: { ...state.workerStatus, delete: 'failed' },\r\n        workerErrors: { ...state.workerErrors, delete: action.payload },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default staffSlice.reducer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { createWorker } from \"../../features/staffSlice\";\r\nimport \"./AddWorker.css\";\r\n\r\nconst AddWorker = ({ restId }) => {\r\n  const [values, setValues] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const { username, password } = values;\r\n  const { workerStatus, workerErrors } = useSelector((state) => state.staff);\r\n  useEffect(() => {\r\n    if (workerStatus.create === \"succeded\")\r\n      setValues({ username: \"\", password: \"\" });\r\n  }, [workerStatus]);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createWorker({ username, password, restaurantId: restId }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-worker\">\r\n      <h3>Ajouter un nouveau personnel</h3>\r\n      <form>\r\n        <div className=\"add-worker__form__group\">\r\n          <h5>login </h5>\r\n          <span>\r\n            {workerStatus.create === \"failed\" &&\r\n              workerErrors.create &&\r\n              workerErrors.create.data.filter(\r\n                (err) => err.param === \"username\"\r\n              )[0] &&\r\n              workerErrors.create.data.filter(\r\n                (err) => err.param === \"username\"\r\n              )[0].msg}\r\n          </span>\r\n          <input\r\n            type=\"text\"\r\n            className=\"add-worker__container__form__input\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"add-worker__form__group\">\r\n          <h5>Mot de passe</h5>\r\n          <span>\r\n            {workerStatus.create === \"failed\" &&\r\n              workerErrors.create &&\r\n              workerErrors.create.data.filter(\r\n                (err) => err.param === \"password\"\r\n              )[0] &&\r\n              workerErrors.create.data.filter(\r\n                (err) => err.param === \"password\"\r\n              )[0].msg}\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            className=\"add-worker__container__form__input\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"add-worker__addButton\"\r\n          onClick={handleSubmit}\r\n        >\r\n          {workerStatus.create === \"loading\" ? (\r\n            <IconContext.Provider value={{ className: \"spinner\" }}>\r\n              <div>\r\n                <ImSpinner9 />\r\n              </div>\r\n            </IconContext.Provider>\r\n          ) : (\r\n            <span>ajouter</span>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddWorker;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { deleteWorker } from \"../../features/staffSlice\";\r\nimport \"./Workers.css\";\r\n\r\nconst Workers = ({ list }) => {\r\n  const dispatch = useDispatch();\r\n  const handleClick = (id) => {\r\n    dispatch(deleteWorker({ id }));\r\n  };\r\n  return (\r\n    <div className=\"workerlist\">\r\n      <h3>Liste des personnels</h3>\r\n      {list &&\r\n        list.length > 0 &&\r\n        list.map((worker) => (\r\n          <div className=\"workerlist__item\" key={worker._id}>\r\n            <div className=\"workerlist__item__info\">\r\n              <h4>Login :</h4>\r\n              <span>{worker.username}</span>\r\n            </div>\r\n            <button\r\n              onClick={() => handleClick(worker._id)}\r\n              className=\"worker__btn\"\r\n            >\r\n              Supprimer\r\n            </button>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Workers;\r\n","import React, { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { IconContext } from \"react-icons\";\r\nimport AddWorker from \"../AddWorker/AddWorker\";\r\nimport Workers from \"../Workers/Workers\";\r\nimport { getAllWorkers } from \"../../features/staffSlice\";\r\nimport \"./StaffList.css\";\r\n\r\nconst StaffList = ({ channel }) => {\r\n  const location = useLocation();\r\n  const { restId } = location.state;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getAllWorkers(restId));\r\n  }, []);\r\n  const { workers, workerStatus } = useSelector((state) => state.staff);\r\n  useEffect(() => {\r\n    if (channel) {\r\n      channel.on(\"workers\", (data) => {\r\n        console.log(\"workers\", data.action);\r\n        dispatch(getAllWorkers(restId));\r\n      });\r\n    }\r\n  }, [channel]);\r\n\r\n  return (\r\n    <div className=\"staff\">\r\n      <AddWorker restId={restId} />\r\n      {workerStatus.getAll === \"loading\" ? (\r\n        <IconContext.Provider value={{ className: \"spinner--large\" }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : workerStatus.getAll === \"failed\" ? (\r\n        <h4>Une erreur est survenue</h4>\r\n      ) : workerStatus.getAll === \"succeded\" && workers.length > 0 ? (\r\n        <Workers list={workers} />\r\n      ) : (\r\n        <h4>La liste des personnels est vide </h4>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffList;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const createOrder = createAsyncThunk(\r\n  \"order/create-order\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\"/order/create-order\", formData.data);\r\n      formData.history.push(\"/\");\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const updateOrder = createAsyncThunk(\r\n  \"order/update-order\",\r\n  async (formData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/order/update-order\", formData.data);\r\n      formData.history.push(\"/\");\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getOrderById = createAsyncThunk(\r\n  \"order/getById\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(`/order/get-client-order/${id}`);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const getAllOrders = createAsyncThunk(\r\n  \"order/getAll\",\r\n  async (restId, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(`/order/get-order/${restId}`);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const checkoutOrder = createAsyncThunk(\r\n  \"order/checkout-order\",\r\n  async (orderId, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/order/checkout-order\", orderId);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const cancelOrder = createAsyncThunk(\r\n  \"order/cancel-order\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/order/cancel-order\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const confirmCancelOrder = createAsyncThunk(\r\n  \"order/confirm-cancel\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/order/confirm-cancel\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const refuseCancelOrder = createAsyncThunk(\r\n  \"order/refuse-cancel\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/order/refuse-cancel\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const editPreOrder = createAsyncThunk(\r\n  \"order/edit-preorder\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/order/edit-preorder\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\nexport const confirmEditPreOrder = createAsyncThunk(\r\n  \"order/confirm-edit-preorder\",\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(\"/order/confirm-edit-preorder\", data);\r\n      return response.data;\r\n    } catch (err) {\r\n      return rejectWithValue(err.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const orderSlice = createSlice({\r\n  name: \"order\",\r\n  initialState: {\r\n    preOrder: [],\r\n    order: null,\r\n    orderStatus: {\r\n      create: \"idle\",\r\n      edit: \"idle\",\r\n      getOne: \"idle\",\r\n      getAll: \"idle\",\r\n      checkout: \"idle\",\r\n      cancel: \"idle\",\r\n    },\r\n    orderErrors: {\r\n      create: null,\r\n      edit: null,\r\n      getOne: null,\r\n      getAll: null,\r\n      checkout: null,\r\n      cancel: null,\r\n    },\r\n    orders: null,\r\n  },\r\n  reducers: {\r\n    addToOrder: (state, action) => {\r\n      const { name, price, createdAt } = action.payload;\r\n      let itemIndex = state.preOrder.findIndex((item) => item.name === name);\r\n      let newList = [...state.preOrder];\r\n      if (itemIndex === -1) {\r\n        return {\r\n          ...state,\r\n          preOrder: [\r\n            ...state.preOrder,\r\n            { name, price, quantity: 1, createdAt },\r\n          ],\r\n        };\r\n      } else {\r\n        newList[itemIndex] = {\r\n          ...newList[itemIndex],\r\n          quantity: newList[itemIndex].quantity + 1,\r\n          price: Number(newList[itemIndex].price) + Number(price),\r\n          createdAt,\r\n        };\r\n        return { ...state, preOrder: newList };\r\n      }\r\n    },\r\n    removeFromOrder: (state, action) => {\r\n      const { name, price, createdAt } = action.payload;\r\n      let itemIndex = state.preOrder.findIndex((item) => item.name === name);\r\n      let newList = [...state.preOrder];\r\n      newList[itemIndex] = {\r\n        ...newList[itemIndex],\r\n        quantity: newList[itemIndex].quantity - 1,\r\n        price: Number(newList[itemIndex].price) - Number(price),\r\n        createdAt,\r\n      };\r\n\r\n      if (newList[itemIndex].quantity === 0) newList.splice(itemIndex, 1);\r\n      return { ...state, preOrder: newList };\r\n    },\r\n    addComment: (state, action) => {\r\n      const { name, comment } = action.payload;\r\n      let itemIndex = state.preOrder.findIndex((item) => item.name === name);\r\n      let newList = [...state.preOrder];\r\n      newList[itemIndex] = { ...newList[itemIndex], comment };\r\n      return { ...state, preOrder: newList };\r\n    },\r\n    deletePreOrder: (state) => {\r\n      return { ...state, preOrder: [] };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [createOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, create: \"loading\" },\r\n      };\r\n    },\r\n    [createOrder.fulfilled]: (state, action) => {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"restId\");\r\n      localStorage.removeItem(\"tableNumber\");\r\n      localStorage.setItem(\"id\", action.payload.id);\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, create: \"succeded\" },\r\n        orderErrors: { ...state.orderErrors, create: null },\r\n      };\r\n    },\r\n    [createOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, create: \"failed\" },\r\n\r\n        orderErrors: { ...state.orderErrors, create: action.payload },\r\n      };\r\n    },\r\n    [updateOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, edit: \"loading\" },\r\n      };\r\n    },\r\n    [updateOrder.fulfilled]: (state, action) => {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"restId\");\r\n      localStorage.removeItem(\"tableNumber\");\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, edit: \"succeded\" },\r\n        orderErrors: { ...state.orderErrors, edit: null },\r\n      };\r\n    },\r\n    [updateOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, edit: \"failed\" },\r\n        orderErrors: { ...state.orderErrors, edit: action.payload },\r\n      };\r\n    },\r\n    [getOrderById.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getOne: \"loading\" },\r\n      };\r\n    },\r\n    [getOrderById.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, getOne: \"succeded\" },\r\n        orderErrors: { ...state.orderErrors, getOne: null },\r\n      };\r\n    },\r\n    [getOrderById.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getOne: \"failed\" },\r\n        orderErrors: { ...state.orderErrors, getOne: action.payload },\r\n      };\r\n    },\r\n    [getAllOrders.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getAll: \"loading\" },\r\n      };\r\n    },\r\n    [getAllOrders.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orders: action.payload,\r\n        orderStatus: { ...state.orderStatus, getAll: \"succeded\" },\r\n        orderErrors: { ...state.orderErrors, getAll: null },\r\n      };\r\n    },\r\n    [getAllOrders.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, getAll: \"failed\" },\r\n        orderErrors: { ...state.orderErrors, getAll: action.payload },\r\n      };\r\n    },\r\n    [checkoutOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, checkout: \"loading\" },\r\n      };\r\n    },\r\n    [checkoutOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, checkout: \"succeded\" },\r\n        orderErrors: { ...state.orderErrors, checkout: null },\r\n      };\r\n    },\r\n    [checkoutOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, checkout: \"failed\" },\r\n        orderErrors: { ...state.orderErrors, checkout: action.payload },\r\n      };\r\n    },\r\n\r\n    [cancelOrder.pending]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, cancel: \"loading\" },\r\n      };\r\n    },\r\n    [cancelOrder.fulfilled]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        order: action.payload,\r\n        orderStatus: { ...state.orderStatus, cancel: \"succeded\" },\r\n        orderErrors: { ...state.orderErrors, cancel: null },\r\n      };\r\n    },\r\n    [cancelOrder.rejected]: (state, action) => {\r\n      return {\r\n        ...state,\r\n        orderStatus: { ...state.orderStatus, cancel: \"failed\" },\r\n        orderErrors: { ...state.orderErrors, cancel: action.payload },\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addToOrder,\r\n  removeFromOrder,\r\n  addComment,\r\n  deletePreOrder,\r\n} = orderSlice.actions;\r\nexport default orderSlice.reducer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport openSocket from 'socket.io-client';\r\n\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport { getAllOrders } from '../../features/orderSlice';\r\n\r\nimport './OrderList.css';\r\n\r\nimport 'moment/locale/fr';\r\nmoment.locale('fr');\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst OrderList = () => {\r\n  const [paid, setPaid] = useState(false);\r\n  const [filterDate, setFilterDate] = useState({\r\n    today: moment().format(),\r\n    filterByDate: false,\r\n  });\r\n  const { today, filterByDate } = filterDate;\r\n  const location = useLocation();\r\n  const { restId } = location.state;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    if (restId) {\r\n      socket.emit('joinRoom', { restId: restId });\r\n      console.log('restid', restId);\r\n    }\r\n\r\n    socket.on('message', (data) => {\r\n      console.log('new order------------', data);\r\n\r\n      dispatch(getAllOrders(restId));\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n  useEffect(() => {\r\n    dispatch(getAllOrders(restId));\r\n  }, []);\r\n  const { orders, orderStatus } = useSelector((state) => state.order);\r\n  const handleFilter = (filterBy) => {\r\n    setPaid(filterBy);\r\n  };\r\n  const handleDate = () => {\r\n    setFilterDate({ ...filterDate, filterByDate: !filterByDate });\r\n  };\r\n\r\n  return (\r\n    <div className='orders'>\r\n      <h2>Liste des commandes</h2>\r\n      <div className='orders__buttons'>\r\n        <button\r\n          className={!paid ? 'orders__buttons--active' : 'orders__buttons--normal'}\r\n          onClick={() => handleFilter(false)}>\r\n          Non Payé\r\n        </button>\r\n        <button\r\n          className={paid ? 'orders__buttons--active' : 'orders__buttons--normal'}\r\n          onClick={() => handleFilter(true)}>\r\n          Payé\r\n        </button>\r\n        <button\r\n          className={filterByDate ? 'orders__buttons--active' : 'orders__buttons--normal'}\r\n          onClick={handleDate}>\r\n          Cmdes de jour\r\n        </button>\r\n      </div>\r\n\r\n      {orderStatus.getAll === 'loading' ? (\r\n        <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : orderStatus.getAll === 'succeded' ? (\r\n        orders &&\r\n        orders\r\n          .filter(\r\n            (order) =>\r\n              order.paid === paid &&\r\n              (filterByDate\r\n                ? moment(order.createdAt).isSame(today, 'day')\r\n                : moment(order.createdAt).isBefore(today, 'day'))\r\n          )\r\n          .slice(0)\r\n          .reverse()\r\n          .map((order) => (\r\n            <div className='orders__items' key={order._id}>\r\n              <p>Table {order.tableNumber}</p>\r\n              {order.items\r\n                .slice(0)\r\n                .reverse()\r\n                .map((item) => (\r\n                  <div className='orders__items__single' key={item._id}>\r\n                    <div className='orders__items__info'>\r\n                      <p>{item.name}</p>\r\n                      <p>{item.quantity}</p>\r\n                      <p className='order__comment'>{item.comment}</p>\r\n                    </div>\r\n                    <p className='orders__items__time'>\r\n                      {moment(item.createdAt).fromNow()}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              <p>Total : {order.total}</p>\r\n            </div>\r\n          ))\r\n      ) : (\r\n        <h4>un probléme est survenu..Veuillez réessayer SVP</h4>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderList;\r\n","import React, { useState } from \"react\";\r\nimport \"./ItemsMenu.css\";\r\nimport { deleteItemMenu, editItemMenu } from \"../../features/menuSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { generateBase64FromImage } from \"../../utils/image\";\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { RiEdit2Fill } from \"react-icons/ri\";\r\n\r\nconst ItemsMenu = ({ item }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    description: \"\",\r\n    image: \"\",\r\n    preview: \"\",\r\n    edit: false,\r\n  });\r\n  const { name, price, description, edit, image, preview } = values;\r\n  const { menu, menuStatus, menuErrors } = useSelector((state) => state.menu);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClick = (id) => {\r\n    dispatch(deleteItemMenu({ idMenu: menu.menu._id, id }));\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    if (!edit) {\r\n      setValues({\r\n        name: item.name,\r\n        price: item.price,\r\n        description: item.description,\r\n        edit: true,\r\n      });\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append(\"name\", name);\r\n      formData.append(\"description\", description);\r\n      formData.append(\"price\", price);\r\n      formData.append(\"image\", image);\r\n      formData.append(\"idMenu\", menu.menu._id);\r\n      formData.append(\"idItem\", item._id);\r\n      formData.append(\"lastImg\", item.image);\r\n\r\n      dispatch(editItemMenu(formData));\r\n    }\r\n  };\r\n  const handleFile = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file)\r\n      generateBase64FromImage(file)\r\n        .then((b64) => {\r\n          setValues({ ...values, image: file, preview: b64 });\r\n        })\r\n        .catch((e) => {\r\n          setValues({ ...values, preview: null });\r\n        });\r\n  };\r\n  const handleData = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-item\">\r\n      <div className=\"menu-item__edit-group\">\r\n        <h5>NOM : </h5>\r\n        <span>\r\n          {edit &&\r\n            menuStatus.edit === \"failed\" &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"name\")[0] &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"name\")[0].msg}\r\n        </span>\r\n        {edit ? (\r\n          <input type=\"text\" value={name} name=\"name\" onChange={handleData} />\r\n        ) : (\r\n          <p>{item.name}</p>\r\n        )}\r\n      </div>\r\n      <div className=\"menu-item__edit-group\">\r\n        <h5>prix : </h5>\r\n        <span>\r\n          {edit &&\r\n            menuStatus.edit === \"failed\" &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"price\")[0] &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"price\")[0].msg}\r\n        </span>\r\n        {edit ? (\r\n          <input type=\"text\" value={price} name=\"price\" onChange={handleData} />\r\n        ) : (\r\n          <p>{item.price}</p>\r\n        )}\r\n      </div>\r\n      <div className=\"menu-item__edit-group\">\r\n        <h5>description:</h5>\r\n        <span>\r\n          {edit &&\r\n            menuStatus.edit === \"failed\" &&\r\n            menuErrors.edit.data.filter(\r\n              (err) => err.param === \"description\"\r\n            )[0] &&\r\n            menuErrors.edit.data.filter((err) => err.param === \"description\")[0]\r\n              .msg}\r\n        </span>\r\n        {edit ? (\r\n          <input\r\n            type=\"text\"\r\n            value={description}\r\n            name=\"description\"\r\n            onChange={handleData}\r\n          />\r\n        ) : (\r\n          <p>{item.description}</p>\r\n        )}\r\n      </div>\r\n\r\n      {edit ? (\r\n        <input\r\n          className=\"input-file\"\r\n          type=\"file\"\r\n          name=\"image\"\r\n          onChange={handleFile}\r\n        />\r\n      ) : (\r\n        <img src={\"/\" + item.image} alt=\"food\" />\r\n      )}\r\n      {preview && <img src={preview} alt=\"plat\" />}\r\n      <div className=\"menu-item__buttons\">\r\n        <div>\r\n          <button className=\"icon_bouton\" onClick={() => handleClick(item._id)}>\r\n            <IconContext.Provider value={{ className: \"icon__Food\" }}>\r\n              <div>\r\n                <MdDelete />\r\n              </div>\r\n            </IconContext.Provider>\r\n            Supprimer\r\n          </button>\r\n        </div>\r\n\r\n        <div>\r\n          <button className=\"icon_bouton\" onClick={() => handleEdit(item._id)}>\r\n            <IconContext.Provider value={{ className: \"icon__Food\" }}>\r\n              <div>\r\n                <RiEdit2Fill />\r\n              </div>\r\n            </IconContext.Provider>\r\n            Modifier\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemsMenu;\r\n","import React from \"react\";\r\n\r\nimport ItemsMenu from \"../../Components/ItemsMenu/ItemsMenu\";\r\nimport \"./Menu.css\";\r\n\r\nconst Menu = ({ menu }) => {\r\n  return (\r\n    <div className=\"menu\">\r\n      <p className=\"menu__cat\">Entrée</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"entree\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n\r\n      <p className=\"menu__cat\">Plat</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"plat\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n\r\n      <p className=\"menu__cat\">Boisson</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"boisson\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n\r\n      <p className=\"menu__cat\">Dessert</p>\r\n      <div className=\"menu__cat__list\">\r\n        {menu.menu.items\r\n          .filter((item) => item.categorie === \"Dessert\")\r\n          .map((item) => (\r\n            <ItemsMenu key={item._id} item={item} />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useEffect } from 'react';\r\nimport AddMenu from '../../Components/AddMenu/AddMenu';\r\nimport Menu from '../Menu/Menu';\r\nimport { getMenuByRest } from '../../features/menuSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport openSocket from 'socket.io-client';\r\n\r\nimport './MyRestaurant.css';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst MyRestaurant = () => {\r\n  const location = useLocation();\r\n  const { restId, logo } = location.state;\r\n  const dispatch = useDispatch();\r\n  const { menu, menuStatus, menuErrors } = useSelector((state) => state.menu);\r\n  useEffect(() => {\r\n    dispatch(getMenuByRest(restId));\r\n  }, [restId]);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n      socket.emit('joinRoom', { restId });\r\n    });\r\n    socket.on('newMenu', (data) => {\r\n      dispatch(getMenuByRest(restId));\r\n    });\r\n\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, [restId]);\r\n  return (\r\n    <div className='my-rest'>\r\n      <AddMenu />\r\n      {menuStatus.getMenu === 'loading' ? (\r\n        <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : menuStatus.getMenu === 'failed' ? (\r\n        <h4>une erreur est survenue , veuillez réésayer SVP</h4>\r\n      ) : menuStatus.getMenu === 'succeded' && menu.menu.items.length > 0 ? (\r\n        <Menu menu={menu} logo={logo} />\r\n      ) : (\r\n        <h5>aucun menu n'est enregistré pour ce restaurant</h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyRestaurant;\r\n","import React, { useEffect, useState } from 'react';\r\nimport openSocket from 'socket.io-client';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getRestList } from '../../features/ownerSlice';\r\nimport AddRestaurant from '../../Components/AddRestaurant/AddRestaurant';\r\nimport RestaurantList from '../../Components/RestaurantList/RestaurantList';\r\nimport AddMenu from '../../Components/AddMenu/AddMenu';\r\nimport TableList from '../../Components/TableList/TableList';\r\nimport StaffList from '../../Components/StaffList/StaffList';\r\nimport OrderList from '../../Components/OrderList/OrderList';\r\n\r\nimport Menu from '../Menu/Menu';\r\nimport './OwnerSection.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport MyRestaurant from '../MyRestaurant/MyRestaurant';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst OwnerSection = () => {\r\n  const [channel, setChannel] = useState(null);\r\n  const { isAuthenticated } = useSelector((state) => state.auth);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      dispatch(getRestList());\r\n    }\r\n  }, [isAuthenticated]);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/owner-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    setChannel(socket);\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    socket.on('restaurants', (data) => {\r\n      console.log('from server', data.action);\r\n      dispatch(getRestList());\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n\r\n  const { restList } = useSelector((state) => state.owner);\r\n  return (\r\n    <div className='owner'>\r\n      <Switch>\r\n        <Route exact path='/owner-section'>\r\n          <AddRestaurant />\r\n          <RestaurantList restaurants={restList} />\r\n        </Route>\r\n        <Route exact path='/owner-section/menu'>\r\n          <AddMenu />\r\n        </Route>\r\n        <Route exact path='/owner-section/rest-menu'>\r\n          <Menu />\r\n        </Route>\r\n        <Route exact path='/owner-section/my-rest'>\r\n          <MyRestaurant />\r\n        </Route>\r\n        <Route exact path='/owner-section/tables'>\r\n          <TableList channel={channel} />\r\n        </Route>\r\n        <Route exact path='/owner-section/staff'>\r\n          <StaffList channel={channel} />\r\n        </Route>\r\n        <Route exact path='/owner-section/orders'>\r\n          <OrderList />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerSection;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport openSocket from 'socket.io-client';\r\nimport moment from 'moment';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport './WorkerSection.css';\r\n\r\nimport {\r\n  getAllOrders,\r\n  checkoutOrder,\r\n  confirmCancelOrder,\r\n  refuseCancelOrder,\r\n  confirmEditPreOrder,\r\n} from '../../features/orderSlice';\r\nimport { getTables } from '../../features/tableSlice';\r\n\r\nimport 'moment/locale/fr';\r\nmoment.locale('fr');\r\n\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst WorkerSection = () => {\r\n  const [filterBy, setFilterBy] = useState('');\r\n  const { user, isAuthenticated } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    if (user) {\r\n      socket.emit('joinRoom', { restId: user.restaurantId });\r\n      console.log('restid', user.restaurantId);\r\n    }\r\n    socket.on('message', (data) => {\r\n      console.log('new order------------', data);\r\n      dispatch(getAllOrders(user.restaurantId));\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, [user]);\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      dispatch(getTables(user.restaurantId));\r\n      dispatch(getAllOrders(user.restaurantId));\r\n    }\r\n  }, [isAuthenticated]);\r\n  const { listTable, tableStatus } = useSelector((state) => state.table);\r\n  useEffect(() => {\r\n    if (listTable && listTable.length > 0) setFilterBy(listTable[0].tableNumber);\r\n  }, [listTable]);\r\n  const { orders, orderStatus } = useSelector((state) => state.order);\r\n\r\n  const handleChange = (e) => {\r\n    setFilterBy(e.target.value);\r\n  };\r\n  const handleClick = async (id) => {\r\n    await dispatch(checkoutOrder({ orderId: id }));\r\n    await dispatch(getAllOrders(user.restaurantId));\r\n  };\r\n  const handleConfirm = (itemId, orderId) => {\r\n    dispatch(confirmCancelOrder({ itemId, orderId }));\r\n  };\r\n  const handleConfirmEdit = (itemId, orderId) => {\r\n    dispatch(confirmEditPreOrder({ itemId, orderId }));\r\n  };\r\n  const handleRefuse = (itemId, orderId) => {\r\n    dispatch(refuseCancelOrder({ itemId, orderId }));\r\n  };\r\n  return (\r\n    <div className='worker'>\r\n      <h2>List of orders</h2>\r\n      <div className='worker__tables'>\r\n        <p> Selectionnez une table </p>\r\n        {tableStatus.getAll === 'loading' ? (\r\n          <IconContext.Provider value={{ className: 'spinner' }}>\r\n            <div>\r\n              <ImSpinner9 />\r\n            </div>\r\n          </IconContext.Provider>\r\n        ) : tableStatus.getAll === 'succeded' ? (\r\n          <select name='filterBy' onChange={handleChange}>\r\n            {listTable && listTable.length > 0 ? (\r\n              listTable.map((tab, i) => (\r\n                <option key={tab._id} defaultValue value={tab.tableNumber}>\r\n                  table {tab.tableNumber}\r\n                </option>\r\n              ))\r\n            ) : (\r\n              <option>aucune table trouvé</option>\r\n            )}\r\n          </select>\r\n        ) : (\r\n          <h5>un probléme est survenue .. veuillez réessayer </h5>\r\n        )}\r\n      </div>\r\n      <div className='worker__content'>\r\n        {orderStatus.getAll === 'loading' ? (\r\n          <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n            <div>\r\n              <ImSpinner9 />\r\n            </div>\r\n          </IconContext.Provider>\r\n        ) : orderStatus.getAll === 'succeded' ? (\r\n          orders &&\r\n          orders\r\n            .filter((order) => {\r\n              if (!order.paid && order.tableNumber === Number(filterBy)) return order;\r\n            })\r\n            .slice(0)\r\n            .reverse()\r\n            .map((order) => {\r\n              return (\r\n                <div className='worker__orders' key={order._id}>\r\n                  {order.items\r\n                    .slice(0)\r\n                    .reverse()\r\n                    .map((item) => (\r\n                      <div className='worker__orders__items' key={item._id}>\r\n                        <div className='worker__orders__items__info'>\r\n                          <div className='req__info'>\r\n                            <p>{item.name}</p>\r\n                            <p> quantité :{item.quantity}</p>\r\n                            {/* {order.preOrder.filter(\r\n                              (el) => el.itemId === item._id\r\n                            )[0].newQuantity && ( */}\r\n                          </div>\r\n                          <div className='req__info'>\r\n                            {!item.confirmed && (\r\n                              <Fragment>\r\n                                <p className='req__dmd'>\r\n                                  demande\r\n                                  {order.preOrder.filter(\r\n                                    (el) => el.itemId === item._id\r\n                                  )[0].requestedAction === 'cancel' ? (\r\n                                    <span> d'annulation </span>\r\n                                  ) : (\r\n                                    <p>\r\n                                      de modification du quantité\r\n                                      <span>\r\n                                        (nouvelle quantité :\r\n                                        {order.preOrder.length > 0 &&\r\n                                          order.preOrder.filter(\r\n                                            (el) => el.itemId === item._id\r\n                                          )[0].newQuantity}\r\n                                        )\r\n                                      </span>\r\n                                    </p>\r\n                                  )}\r\n                                </p>\r\n                                <div className='butt__response'>\r\n                                  {order.preOrder.filter(\r\n                                    (el) => el.itemId === item._id\r\n                                  )[0].requestedAction === 'cancel' && (\r\n                                    <button\r\n                                      className='button__req__valid'\r\n                                      onClick={() => handleConfirm(item._id, order._id)}>\r\n                                      valider\r\n                                    </button>\r\n                                  )}\r\n                                  <button\r\n                                    className='button__req__reject'\r\n                                    onClick={() => handleRefuse(item._id, order._id)}>\r\n                                    refuser\r\n                                  </button>\r\n                                  {order.preOrder.filter(\r\n                                    (el) => el.itemId === item._id\r\n                                  )[0].requestedAction === 'edit' && (\r\n                                    <button\r\n                                      className='button__req__valid'\r\n                                      onClick={() =>\r\n                                        handleConfirmEdit(item._id, order._id)\r\n                                      }>\r\n                                      confirmer\r\n                                    </button>\r\n                                  )}\r\n                                </div>\r\n                              </Fragment>\r\n                            )}\r\n                          </div>\r\n                          {item.comment && (\r\n                            <p className='comment'>\r\n                              <span>preferences: </span>\r\n                              {item.comment}\r\n                            </p>\r\n                          )}\r\n\r\n                          <span className='timeline'>\r\n                            {moment(item.createdAt).fromNow()}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  <p>Total : {order.total}</p>\r\n                  <button className='butt-pay' onClick={() => handleClick(order._id)}>\r\n                    Confirmer le paiement\r\n                  </button>\r\n                </div>\r\n              );\r\n            })\r\n        ) : (\r\n          <h5>un probléme est survenu..</h5>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkerSection;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  addToOrder,\r\n  removeFromOrder,\r\n  addComment,\r\n} from \"../../features/orderSlice\";\r\nimport \"./ClientMenuItem.css\";\r\nimport moment from \"moment\";\r\n\r\nconst ClientMenuItem = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n  const { preOrder } = useSelector((state) => state.order);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [food, setFood] = useState({\r\n    price: 0,\r\n    quantity: 0,\r\n    comment: \"\",\r\n  });\r\n  const { price, quantity, comment } = food;\r\n  useEffect(() => {\r\n    let orderItem = preOrder.filter((food) => food.name === item.name)[0];\r\n    if (orderItem)\r\n      setFood({\r\n        price: orderItem.price,\r\n        quantity: orderItem.quantity,\r\n        comment: orderItem.comment,\r\n      });\r\n  }, []);\r\n  const handleAdd = (itemPrice) => {\r\n    setFood({\r\n      ...food,\r\n      quantity: Number(quantity) + 1,\r\n      price: Number(price) + Number(itemPrice),\r\n    });\r\n  };\r\n  const handleComment = (e) => {\r\n    setFood({ ...food, comment: e.target.value });\r\n  };\r\n  const handleShow = () => {\r\n    if (showInput) dispatch(addComment({ name: item.name, comment }));\r\n    setShowInput(!showInput);\r\n  };\r\n  const handleRemove = (itemPrice) => {\r\n    if (quantity > 0)\r\n      setFood({\r\n        ...food,\r\n        quantity: Number(quantity) - 1,\r\n        price: Number(price) - Number(itemPrice),\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"client-menu-item\">\r\n      <div className=\"client-menu-item__group\">\r\n        <div className=\"client-menu-item__info\">\r\n          <p>{item.name}</p>\r\n          <p>{item.price} dt</p>\r\n        </div>\r\n        <img src={item.image} alt=\"food\" />\r\n      </div>\r\n      <p className=\"client-menu-item__desc\">{item.description}</p>\r\n      <div className=\"client-menu-item__footer\">\r\n        <span className=\"client-menu-item__price\">\r\n          Total: {price > 0 ? price : 0} DT\r\n        </span>\r\n        <div className=\"client-menu-item__buttons\">\r\n          <button\r\n            className=\"client-menu-item__button\"\r\n            onClick={() => {\r\n              if (quantity > 0) {\r\n                handleRemove(item.price);\r\n                let createdAt = moment().format();\r\n                dispatch(\r\n                  removeFromOrder({\r\n                    name: item.name,\r\n                    price: item.price,\r\n                    createdAt,\r\n                  })\r\n                );\r\n              }\r\n            }}\r\n          >\r\n            -\r\n          </button>\r\n          <span>{quantity}</span>\r\n          <button\r\n            className=\"client-menu-item__button\"\r\n            onClick={() => {\r\n              handleAdd(item.price);\r\n              let createdAt = moment().format();\r\n              dispatch(\r\n                addToOrder({\r\n                  name: item.name,\r\n                  price: item.price,\r\n                  comment,\r\n                  createdAt,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"client-menu-item__comment\">\r\n        {quantity > 0 ? (\r\n          <button className=\"comment__button\" onClick={handleShow}>\r\n            ajouter un commentaire\r\n          </button>\r\n        ) : (\r\n          <button className=\"comment__button\" onClick={handleShow} disabled>\r\n            ajouter un commentaire\r\n          </button>\r\n        )}\r\n\r\n        {showInput && quantity > 0 && (\r\n          <textarea value={comment} onChange={handleComment} rows=\"3\" cols=\"20\">\r\n            commentaire..\r\n          </textarea>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientMenuItem;\r\n","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport {\r\n  createOrder,\r\n  updateOrder,\r\n  getOrderById,\r\n  deletePreOrder,\r\n} from \"../../features/orderSlice\";\r\nimport ClientMenuItem from \"../../Components/ClientMenuItem/ClientMenuItem\";\r\nimport \"./ClientMenu.css\";\r\n\r\nconst ClientMenu = ({ menu }) => {\r\n  const [values, setValues] = useState({\r\n    orderId: null,\r\n    items: [],\r\n    total: 0,\r\n    numberOfItems: 0,\r\n    categorie: \"entree\",\r\n  });\r\n  const { items, total, categorie, numberOfItems } = values;\r\n  const dispatch = useDispatch();\r\n  const { preOrder, order, orderStatus } = useSelector((state) => state.order);\r\n  useEffect(() => {\r\n    dispatch(deletePreOrder());\r\n    return () => {\r\n      dispatch(deletePreOrder());\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    setValues({ ...values, items: preOrder });\r\n  }, [preOrder]);\r\n  useEffect(() => {\r\n    const id = localStorage.getItem(\"id\");\r\n    if (id) {\r\n      dispatch(getOrderById(id));\r\n      setValues({ ...values, orderId: id });\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    if (items.length > 0) {\r\n      let totalCost = items.reduce(\r\n        (acc, curv) => Number(acc) + Number(curv.price),\r\n        0\r\n      );\r\n      let totalNumber = items.reduce(\r\n        (acc, curv) => Number(acc) + Number(curv.quantity),\r\n        0\r\n      );\r\n\r\n      setValues({ ...values, total: totalCost, numberOfItems: totalNumber });\r\n    } else {\r\n      setValues({ ...values, total: 0, numberOfItems: 0 });\r\n    }\r\n  }, [items]);\r\n\r\n  const history = useHistory();\r\n  const restId = localStorage.getItem(\"restId\");\r\n  const tableNumber = localStorage.getItem(\"tableNumber\");\r\n\r\n  const handleButton = () => {\r\n    const orderId = localStorage.getItem(\"id\");\r\n    if (items.length > 0) {\r\n      if (orderId && order && !order.order.paid) {\r\n        dispatch(updateOrder({ data: { items, total, orderId }, history }));\r\n      } else {\r\n        dispatch(\r\n          createOrder({ data: { items, total, restId, tableNumber }, history })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const orderLink = order && !order.order.paid && (\r\n    <Link\r\n      to={{\r\n        pathname: \"/client-page/order\",\r\n\r\n        state: { orderId: order.order._id },\r\n      }}\r\n    >\r\n      <span className=\"client-menu__link\">Mes choix</span>\r\n    </Link>\r\n  );\r\n  const menuItems =\r\n    menu && menu.menu.items ? (\r\n      <Fragment>\r\n        {menu.menu.items.filter((item) => item.categorie === categorie).length >\r\n          0 && (\r\n          <Fragment>\r\n            <p className=\"client-menu__categorie\">{categorie}</p>\r\n            <div className=\"client-menu__sub\">\r\n              {menu.menu.items\r\n                .filter((item) => item.categorie === categorie)\r\n                .map((item) => (\r\n                  <ClientMenuItem key={item._id} item={item} />\r\n                ))}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </Fragment>\r\n    ) : (\r\n      <h5>Loading...</h5>\r\n    );\r\n  const handleChoice = (choice) => {\r\n    setValues({ ...values, categorie: choice });\r\n  };\r\n  return (\r\n    <div className=\"client-menu\">\r\n      <div className=\"client-menu__menu\">\r\n        <button\r\n          className={\r\n            categorie === \"entree\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"entree\")}\r\n        >\r\n          entrée\r\n        </button>\r\n        <button\r\n          className={\r\n            categorie === \"plat\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"plat\")}\r\n        >\r\n          plat\r\n        </button>\r\n        <button\r\n          className={\r\n            categorie === \"boisson\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"boisson\")}\r\n        >\r\n          boisson\r\n        </button>\r\n        <button\r\n          className={\r\n            categorie === \"Dessert\" ? \"active-categorie\" : \"inactive-categorie\"\r\n          }\r\n          onClick={() => handleChoice(\"Dessert\")}\r\n        >\r\n          dessert\r\n        </button>\r\n      </div>\r\n      <div className=\"client-menu__items\">{menuItems}</div>\r\n      <div className=\"client-menu__nav\">\r\n        {orderLink}\r\n        <p className=\"client-menu__total\">\r\n          <span style={{ color: \"white\" }}>{total} DT</span>\r\n          <span style={{ color: \"white\" }}>({numberOfItems} élements)</span>\r\n        </p>\r\n        <button onClick={() => handleButton()}>Commander</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientMenu;\r\n","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation, Link, useHistory } from \"react-router-dom\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { RiDeleteBin5Fill } from \"react-icons/ri\";\r\nimport { CgEditExposure } from \"react-icons/cg\";\r\nimport { ImSpinner9 } from \"react-icons/im\";\r\nimport { HiOutlineMinusCircle, HiOutlinePlusCircle } from \"react-icons/hi\";\r\n\r\nimport {\r\n  getOrderById,\r\n  cancelOrder,\r\n  editPreOrder,\r\n} from \"../../features/orderSlice\";\r\nimport \"./MyOrder.css\";\r\n\r\nconst MyOrder = ({ channel }) => {\r\n  const [editFields, setEditFields] = useState({\r\n    editStatus: { toEdit: false, itemId: null, unitPrice: 0 },\r\n    editOrder: null,\r\n    oldQuantity: 0,\r\n  });\r\n  const { editStatus, editOrder, oldQuantity } = editFields;\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const { orderId } = location.state;\r\n  useEffect(() => {\r\n    dispatch(getOrderById(orderId));\r\n  }, [orderId]);\r\n  useEffect(() => {\r\n    if (channel) {\r\n      channel.on(\"message\", (data) => {\r\n        dispatch(getOrderById(orderId));\r\n      });\r\n      channel.on(\"checkout\", (data) => {\r\n        history.push(\"/client-page\");\r\n      });\r\n    }\r\n  }, [channel]);\r\n\r\n  const { order, orderStatus } = useSelector((state) => state.order);\r\n  useEffect(() => {\r\n    order.order.items &&\r\n      setEditFields({ ...editFields, editOrder: order.order.items });\r\n  }, [order]);\r\n  const handleCancel = (itemId) => {\r\n    dispatch(cancelOrder({ itemId, orderId }));\r\n  };\r\n  const handleEdit = (item) => {\r\n    if (editStatus.toEdit) {\r\n      const itemToEdit = editOrder.filter((el) => el._id === item._id)[0];\r\n\r\n      const newValues = {\r\n        newQuantity: itemToEdit.quantity,\r\n        newPrice: itemToEdit.price,\r\n        newComment: \"\",\r\n      };\r\n\r\n      if (Number(oldQuantity) !== Number(itemToEdit.quantity)) {\r\n        dispatch(\r\n          editPreOrder({ itemId: editStatus.itemId, orderId, newValues })\r\n        );\r\n      }\r\n      setEditFields({\r\n        ...editFields,\r\n        editStatus: { toEdit: false, itemId: null },\r\n      });\r\n    } else {\r\n      setEditFields({\r\n        ...editFields,\r\n        oldQuantity: item.quantity,\r\n        editStatus: {\r\n          toEdit: true,\r\n          itemId: item._id,\r\n          unitPrice: Number(item.price) / Number(item.quantity),\r\n        },\r\n      });\r\n    }\r\n  };\r\n  const handleAdd = (id) => {\r\n    let itemIndex = editOrder.findIndex((item) => item._id === id);\r\n    let newList = [...editOrder];\r\n    newList[itemIndex] = {\r\n      ...newList[itemIndex],\r\n      quantity: newList[itemIndex].quantity + 1,\r\n      price: Number(newList[itemIndex].price) + Number(editStatus.unitPrice),\r\n    };\r\n    setEditFields({ ...editFields, editOrder: newList });\r\n  };\r\n  const handleRemove = (id) => {\r\n    let itemIndex = editOrder.findIndex((item) => item._id === id);\r\n    let newList = [...editOrder];\r\n    if (newList[itemIndex].quantity > 1) {\r\n      newList[itemIndex] = {\r\n        ...newList[itemIndex],\r\n        quantity: newList[itemIndex].quantity - 1,\r\n        price: Number(newList[itemIndex].price) - Number(editStatus.unitPrice),\r\n      };\r\n      setEditFields({ ...editFields, editOrder: newList });\r\n    }\r\n  };\r\n\r\n  const requestResult = (item) => {\r\n    const preOrder = order.order.preOrder;\r\n    if (\r\n      preOrder.length > 0 &&\r\n      preOrder.filter((order) => order.itemId === item._id)[0]\r\n    ) {\r\n      if (item.confirmed) {\r\n        if (preOrder.filter((order) => order.itemId === item._id)[0].confirmed)\r\n          return (\r\n            <p className=\"request__msg--valid\">\r\n              {/* {\r\n                preOrder.filter((order) => order.itemId === item._id)[0]\r\n                  .requestedAction\r\n              } */}\r\n              votre demande est validée\r\n            </p>\r\n          );\r\n        else\r\n          return (\r\n            <p className=\"request__msg--rejected\">\r\n              {/* {\r\n                preOrder.filter((order) => order.itemId === item._id)[0]\r\n                  .requestedAction\r\n              } */}\r\n              votre demande est rejetée\r\n            </p>\r\n          );\r\n      } else {\r\n        return (\r\n          <p className=\"request__msg--waiting\">\r\n            en attente de\r\n            {/* {preOrder.length > 0 &&\r\n              preOrder.filter((order) => order.itemId === item._id)[0]\r\n                .requestedAction} */}\r\n            confirmation\r\n          </p>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"order\">\r\n      <h2>A Payer</h2>\r\n      {orderStatus.getOne === \"loading\" ? (\r\n        <IconContext.Provider value={{ className: \"spinner--large\" }}>\r\n          <div>\r\n            <ImSpinner9 />\r\n          </div>\r\n        </IconContext.Provider>\r\n      ) : orderStatus.getOne === \"succeded\" ? (\r\n        editOrder &&\r\n        editOrder.length > 0 &&\r\n        editOrder.map((item) => (\r\n          <div className=\"order__item\" key={item._id}>\r\n            <div className=\"order__item__head\">\r\n              <p>{item.name}</p>\r\n              <div className=\"order__item__info\">\r\n                <p>{item.quantity}</p>\r\n                <p>{item.price} DT</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"order__item__foot\">\r\n              <span className=\"order__item__foot__result\">\r\n                {requestResult(item)}\r\n              </span>\r\n              <div>\r\n                {editStatus.toEdit && item._id === editStatus.itemId && (\r\n                  <Fragment>\r\n                    <button\r\n                      className=\"order__req__but\"\r\n                      onClick={() => handleAdd(item._id)}\r\n                    >\r\n                      <span>\r\n                        <IconContext.Provider\r\n                          value={{\r\n                            className: \"order-icon--valid\",\r\n                          }}\r\n                        >\r\n                          <HiOutlinePlusCircle />\r\n                        </IconContext.Provider>\r\n                      </span>\r\n                    </button>\r\n                    <button\r\n                      className=\"order__req__but\"\r\n                      onClick={() => handleRemove(item._id)}\r\n                    >\r\n                      <span>\r\n                        <div>\r\n                          <IconContext.Provider\r\n                            value={{\r\n                              className: \"order-icon--delete\",\r\n                            }}\r\n                          >\r\n                            <HiOutlineMinusCircle />\r\n                          </IconContext.Provider>\r\n                        </div>\r\n                      </span>\r\n                    </button>\r\n                  </Fragment>\r\n                )}\r\n\r\n                <button\r\n                  className=\"order__req__but\"\r\n                  onClick={() => handleCancel(item._id)}\r\n                >\r\n                  <span>\r\n                    <div>\r\n                      <IconContext.Provider\r\n                        value={{\r\n                          className: \"order-icon--delete\",\r\n                        }}\r\n                      >\r\n                        <RiDeleteBin5Fill />\r\n                      </IconContext.Provider>\r\n                    </div>\r\n                  </span>\r\n                </button>\r\n                <button\r\n                  className=\"order__req__but\"\r\n                  onClick={() => handleEdit(item)}\r\n                >\r\n                  <span>\r\n                    <div>\r\n                      <IconContext.Provider\r\n                        value={{\r\n                          className: \"order-icon--valid\",\r\n                        }}\r\n                      >\r\n                        <CgEditExposure />\r\n                      </IconContext.Provider>\r\n                    </div>\r\n                  </span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <h5>un probléme est survenu..</h5>\r\n      )}\r\n      <div className=\"order__item__total\">\r\n        <p>total</p>\r\n        <p>\r\n          {orderStatus.getOne === \"loading\" ? (\r\n            <span>loading..</span>\r\n          ) : orderStatus.getOne === \"succeded\" ? (\r\n            order && order.order.total\r\n          ) : null}\r\n          DT\r\n        </p>\r\n      </div>\r\n      <div className=\"client-menu__nav\">\r\n        <Link to=\"/client-page\">\r\n          <button className=\"client-menu__nav__back\">retour au menu </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyOrder;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport openSocket from 'socket.io-client';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ImSpinner9 } from 'react-icons/im';\r\nimport { IconContext } from 'react-icons';\r\nimport ClientMenu from '../../Components/ClientMenu/ClientMenu';\r\nimport MyOrder from '../MyOrder/MyOrder';\r\nimport { getMenuByRest } from '../../features/menuSlice';\r\nimport './ClientPage.css';\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.hostname\r\n    : 'http://localhost:5000';\r\n\r\nconst ClientPage = () => {\r\n  const [channel, setChannel] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const restId = localStorage.getItem('restId');\r\n  useEffect(() => {\r\n    dispatch(getMenuByRest(restId));\r\n  }, []);\r\n  useEffect(() => {\r\n    let socket = openSocket(`${socketURL}/restaurant-space`, {\r\n      transports: ['websocket', 'polling'],\r\n      secure: true,\r\n    });\r\n    setChannel(socket);\r\n    socket.on('connect', () => {\r\n      console.log(socket.id);\r\n    });\r\n    if (restId) socket.emit('joinRoom', { restId });\r\n    socket.on('newMenu', (data) => {\r\n      console.log('newmenu', data);\r\n      dispatch(getMenuByRest(restId));\r\n    });\r\n    // return () => {\r\n    //   socket.disconnect();\r\n    // };\r\n  }, []);\r\n\r\n  const { menu, menuStatus } = useSelector((state) => state.menu);\r\n  const clientMenu =\r\n    menuStatus.getMenu === 'loading' ? (\r\n      <IconContext.Provider value={{ className: 'spinner--large' }}>\r\n        <div>\r\n          <ImSpinner9 />\r\n        </div>\r\n      </IconContext.Provider>\r\n    ) : menuStatus.getMenu === 'succeded' && menu ? (\r\n      menu.menu.items.length === 0 ? (\r\n        <p> Ce menu n'est pas encore disponible</p>\r\n      ) : (\r\n        <ClientMenu menu={menu} restaurantId={restId} />\r\n      )\r\n    ) : (\r\n      <h5>Something went wrong...</h5>\r\n    );\r\n\r\n  return (\r\n    <div className='client-section'>\r\n      <Switch>\r\n        <Route exact path='/client-page'>\r\n          <div className='client-section__info'>\r\n            <h2>Menu</h2>\r\n            <div className='client-section__info__image'>\r\n              <img src={'/' + (menu && menu.menu.restaurant.logo)} alt='logo' />\r\n            </div>\r\n            <h2>{menu && menu.menu.restaurant.name}</h2>\r\n          </div>\r\n          {clientMenu}\r\n        </Route>\r\n        <Route exact path='/client-page/order'>\r\n          <MyOrder channel={channel} />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientPage;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport setAuthToken from './utils/setAuthToken';\r\nimport PrivateRoute from './Components/PrivateRoute/PrivateRoute';\r\nimport ClientRoute from './Components/PrivateRoute/ClientRoute';\r\nimport Home from './pages/Home/Home';\r\nimport Navbar from './Components/Navbar/Navbar';\r\n\r\nimport SignIn from './pages/SignIn/SignIn';\r\nimport ScanCode from './Components/ScanCode/ScanCode';\r\nimport './App.css';\r\nimport AdminSection from './pages/AdminSection/AdminSection';\r\nimport OwnerSection from './pages/OwnerSection/OwnerSection';\r\nimport WorkerSection from './pages/WorkerSection/WorkerSection';\r\nimport ClientPage from './pages/ClientPage/ClientPage';\r\n\r\nfunction App() {\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n  return (\r\n    <div className='app'>\r\n      <Router>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route exact path='/'>\r\n            <Home />\r\n          </Route>\r\n          <Route exact path='/signin'>\r\n            <SignIn />\r\n          </Route>\r\n          <Route exact path='/scan-code'>\r\n            <ScanCode />\r\n          </Route>\r\n          <ClientRoute path='/client-page'>\r\n            <ClientPage />\r\n          </ClientRoute>\r\n\r\n          <PrivateRoute exact path='/admin-section'>\r\n            <AdminSection />\r\n          </PrivateRoute>\r\n          <PrivateRoute path='/owner-section'>\r\n            <OwnerSection />\r\n          </PrivateRoute>\r\n          <PrivateRoute path='/worker-section'>\r\n            <WorkerSection />\r\n          </PrivateRoute>\r\n          <Redirect to='/' />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authReducer from \"../features/authSlice\";\r\nimport adminReducer from \"../features/adminSlice\";\r\nimport ownerReducer from \"../features/ownerSlice\";\r\nimport menuReducer from \"../features/menuSlice\";\r\nimport tableReducer from \"../features/tableSlice\";\r\nimport orderReducer from \"../features/orderSlice\";\r\nimport staffReducer from \"../features/staffSlice\";\r\nimport contactReducer from \"../features/contactSlice\";\r\nimport adherentReducer from \"../features/adherentSlice.js\";\r\nexport default configureStore({\r\n  reducer: {\r\n    auth: authReducer,\r\n    admin: adminReducer,\r\n    owner: ownerReducer,\r\n    menu: menuReducer,\r\n    table: tableReducer,\r\n    order: orderReducer,\r\n    staff: staffReducer,\r\n    contact: contactReducer,\r\n    adherent: adherentReducer,\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}